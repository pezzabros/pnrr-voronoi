{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/d3-array/src/ascending.js","../../node_modules/d3-array/src/bisector.js","../../node_modules/d3-array/src/number.js","../../node_modules/d3-array/src/bisect.js","../../node_modules/d3-array/src/count.js","../../node_modules/d3-array/src/cross.js","../../node_modules/d3-array/src/variance.js","../../node_modules/d3-array/src/deviation.js","../../node_modules/d3-array/src/extent.js","../../node_modules/d3-array/src/fsum.js","../../node_modules/internmap/src/index.js","../../node_modules/d3-array/src/identity.js","../../node_modules/d3-array/src/group.js","../../node_modules/d3-array/src/permute.js","../../node_modules/d3-array/src/sort.js","../../node_modules/d3-array/src/array.js","../../node_modules/d3-array/src/constant.js","../../node_modules/d3-array/src/ticks.js","../../node_modules/d3-array/src/nice.js","../../node_modules/d3-array/src/threshold/sturges.js","../../node_modules/d3-array/src/bin.js","../../node_modules/d3-array/src/max.js","../../node_modules/d3-array/src/min.js","../../node_modules/d3-array/src/quickselect.js","../../node_modules/d3-array/src/quantile.js","../../node_modules/d3-array/src/maxIndex.js","../../node_modules/d3-array/src/minIndex.js","../../node_modules/d3-array/src/pairs.js","../../node_modules/d3-array/src/leastIndex.js","../../node_modules/d3-array/src/shuffle.js","../../node_modules/d3-array/src/transpose.js","../../node_modules/d3-array/src/set.js","../../node_modules/d3-array/src/superset.js","../../node_modules/d3-array/src/cumsum.js","../../node_modules/d3-array/src/descending.js","../../node_modules/d3-array/src/groupSort.js","../../node_modules/d3-array/src/threshold/freedmanDiaconis.js","../../node_modules/d3-array/src/threshold/scott.js","../../node_modules/d3-array/src/mean.js","../../node_modules/d3-array/src/median.js","../../node_modules/d3-array/src/merge.js","../../node_modules/d3-array/src/range.js","../../node_modules/d3-array/src/least.js","../../node_modules/d3-array/src/greatest.js","../../node_modules/d3-array/src/greatestIndex.js","../../node_modules/d3-array/src/scan.js","../../node_modules/d3-array/src/sum.js","../../node_modules/d3-array/src/zip.js","../../node_modules/d3-array/src/every.js","../../node_modules/d3-array/src/some.js","../../node_modules/d3-array/src/filter.js","../../node_modules/d3-array/src/map.js","../../node_modules/d3-array/src/reduce.js","../../node_modules/d3-array/src/reverse.js","../../node_modules/d3-array/src/difference.js","../../node_modules/d3-array/src/disjoint.js","../../node_modules/d3-array/src/intersection.js","../../node_modules/d3-array/src/subset.js","../../node_modules/d3-array/src/union.js","../../node_modules/d3-dispatch/src/dispatch.js","../../node_modules/d3-selection/src/namespaces.js","../../node_modules/d3-selection/src/namespace.js","../../node_modules/d3-selection/src/creator.js","../../node_modules/d3-selection/src/selector.js","../../node_modules/d3-selection/src/array.js","../../node_modules/d3-selection/src/selectorAll.js","../../node_modules/d3-selection/src/matcher.js","../../node_modules/d3-selection/src/selection/selectChild.js","../../node_modules/d3-selection/src/selection/selectChildren.js","../../node_modules/d3-selection/src/selection/sparse.js","../../node_modules/d3-selection/src/selection/enter.js","../../node_modules/d3-selection/src/constant.js","../../node_modules/d3-selection/src/selection/data.js","../../node_modules/d3-selection/src/selection/sort.js","../../node_modules/d3-selection/src/selection/attr.js","../../node_modules/d3-selection/src/window.js","../../node_modules/d3-selection/src/selection/style.js","../../node_modules/d3-selection/src/selection/property.js","../../node_modules/d3-selection/src/selection/classed.js","../../node_modules/d3-selection/src/selection/text.js","../../node_modules/d3-selection/src/selection/html.js","../../node_modules/d3-selection/src/selection/raise.js","../../node_modules/d3-selection/src/selection/lower.js","../../node_modules/d3-selection/src/selection/insert.js","../../node_modules/d3-selection/src/selection/remove.js","../../node_modules/d3-selection/src/selection/clone.js","../../node_modules/d3-selection/src/selection/on.js","../../node_modules/d3-selection/src/selection/dispatch.js","../../node_modules/d3-selection/src/selection/index.js","../../node_modules/d3-selection/src/select.js","../../node_modules/d3-color/src/define.js","../../node_modules/d3-color/src/color.js","../../node_modules/d3-selection/src/selection/select.js","../../node_modules/d3-selection/src/selection/selectAll.js","../../node_modules/d3-selection/src/selection/filter.js","../../node_modules/d3-selection/src/selection/exit.js","../../node_modules/d3-selection/src/selection/join.js","../../node_modules/d3-selection/src/selection/merge.js","../../node_modules/d3-selection/src/selection/order.js","../../node_modules/d3-selection/src/selection/call.js","../../node_modules/d3-selection/src/selection/nodes.js","../../node_modules/d3-selection/src/selection/node.js","../../node_modules/d3-selection/src/selection/size.js","../../node_modules/d3-selection/src/selection/empty.js","../../node_modules/d3-selection/src/selection/each.js","../../node_modules/d3-selection/src/selection/append.js","../../node_modules/d3-selection/src/selection/datum.js","../../node_modules/d3-selection/src/selection/iterator.js","../../node_modules/d3-interpolate/src/constant.js","../../node_modules/d3-interpolate/src/color.js","../../node_modules/d3-interpolate/src/rgb.js","../../node_modules/d3-interpolate/src/number.js","../../node_modules/d3-interpolate/src/string.js","../../node_modules/d3-interpolate/src/transform/decompose.js","../../node_modules/d3-interpolate/src/transform/parse.js","../../node_modules/d3-interpolate/src/transform/index.js","../../node_modules/d3-timer/src/timer.js","../../node_modules/d3-timer/src/timeout.js","../../node_modules/d3-transition/src/transition/schedule.js","../../node_modules/d3-transition/src/transition/tween.js","../../node_modules/d3-transition/src/transition/interpolate.js","../../node_modules/d3-transition/src/transition/attr.js","../../node_modules/d3-transition/src/transition/attrTween.js","../../node_modules/d3-transition/src/transition/delay.js","../../node_modules/d3-transition/src/transition/duration.js","../../node_modules/d3-transition/src/transition/ease.js","../../node_modules/d3-transition/src/transition/on.js","../../node_modules/d3-transition/src/transition/selection.js","../../node_modules/d3-transition/src/transition/style.js","../../node_modules/d3-transition/src/transition/styleTween.js","../../node_modules/d3-transition/src/transition/textTween.js","../../node_modules/d3-transition/src/transition/index.js","../../node_modules/d3-transition/src/transition/select.js","../../node_modules/d3-transition/src/transition/selectAll.js","../../node_modules/d3-transition/src/transition/filter.js","../../node_modules/d3-transition/src/transition/merge.js","../../node_modules/d3-transition/src/transition/transition.js","../../node_modules/d3-transition/src/transition/text.js","../../node_modules/d3-transition/src/transition/remove.js","../../node_modules/d3-transition/src/transition/easeVarying.js","../../node_modules/d3-transition/src/transition/end.js","../../node_modules/d3-transition/src/selection/transition.js","../../node_modules/d3-ease/src/cubic.js","../../node_modules/d3-transition/src/selection/index.js","../../node_modules/d3-transition/src/selection/interrupt.js","../../node_modules/d3-transition/src/interrupt.js","../../node_modules/d3-path/src/path.js","../../node_modules/d3-dsv/src/dsv.js","../../node_modules/d3-dsv/src/csv.js","../../node_modules/d3-fetch/src/text.js","../../node_modules/d3-fetch/src/dsv.js","../../node_modules/d3-hierarchy/src/hierarchy/count.js","../../node_modules/d3-hierarchy/src/hierarchy/index.js","../../node_modules/d3-polygon/src/centroid.js","../../node_modules/d3-polygon/src/hull.js","../../node_modules/d3-polygon/src/cross.js","../../node_modules/d3-hierarchy/src/hierarchy/each.js","../../node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../../node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../../node_modules/d3-hierarchy/src/hierarchy/find.js","../../node_modules/d3-hierarchy/src/hierarchy/sum.js","../../node_modules/d3-hierarchy/src/hierarchy/sort.js","../../node_modules/d3-hierarchy/src/hierarchy/path.js","../../node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../../node_modules/d3-hierarchy/src/hierarchy/descendants.js","../../node_modules/d3-hierarchy/src/hierarchy/leaves.js","../../node_modules/d3-hierarchy/src/hierarchy/links.js","../../node_modules/d3-hierarchy/src/hierarchy/iterator.js","../../node_modules/d3-polygon/src/area.js","../../node_modules/d3-polygon/src/contains.js","../../node_modules/d3-polygon/src/length.js","../../node_modules/d3-scale/src/init.js","../../node_modules/d3-scale/src/ordinal.js","../../node_modules/d3-shape/src/constant.js","../../node_modules/d3-shape/src/curve/linear.js","../../node_modules/d3-shape/src/point.js","../../node_modules/d3-shape/src/line.js","../../node_modules/d3-shape/src/array.js","../../node_modules/d3-voronoi-map/node_modules/d3-polygon/src/hull.js","../../node_modules/d3-voronoi-map/node_modules/d3-polygon/src/cross.js","../../node_modules/d3-voronoi-map/node_modules/d3-timer/src/timer.js","../../node_modules/d3-voronoi-map/node_modules/d3-polygon/src/area.js","../../node_modules/d3-voronoi-map/node_modules/d3-polygon/src/centroid.js","../../node_modules/d3-voronoi-map/node_modules/d3-polygon/src/contains.js","../../node_modules/d3-voronoi-map/node_modules/d3-polygon/src/length.js","../../node_modules/d3-voronoi-map/node_modules/d3-timer/src/timeout.js","../../node_modules/d3-voronoi-map/node_modules/d3-timer/src/interval.js","../../node_modules/d3-voronoi-map/node_modules/d3-dispatch/src/dispatch.js","../../node_modules/d3-weighted-voronoi/build/d3-weighted-voronoi.js","../../node_modules/d3-voronoi-map/build/d3-voronoi-map.js","../../node_modules/d3-voronoi-treemap/build/d3-voronoi-treemap.js","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot_spread(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_spread_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_spread_changes_fn(dirty) | get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : context || []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : options.context || []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.37.0' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to seperate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_custom_elements_slots, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, update_slot_spread, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function count(values, valueof) {\n  let count = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  }\n  return count;\n}\n","function length(array) {\n  return array.length | 0;\n}\n\nfunction empty(length) {\n  return !(length > 0);\n}\n\nfunction arrayify(values) {\n  return typeof values !== \"object\" || \"length\" in values ? values : Array.from(values);\n}\n\nfunction reducer(reduce) {\n  return values => reduce(...values);\n}\n\nexport default function cross(...values) {\n  const reduce = typeof values[values.length - 1] === \"function\" && reducer(values.pop());\n  values = values.map(arrayify);\n  const lengths = values.map(length);\n  const j = values.length - 1;\n  const index = new Array(j + 1).fill(0);\n  const product = [];\n  if (j < 0 || lengths.some(empty)) return product;\n  while (true) {\n    product.push(index.map((j, i) => values[i][j]));\n    let i = j;\n    while (++index[i] === lengths[i]) {\n      if (i === 0) return reduce ? product.map(reduce) : product;\n      index[i--] = 0;\n    }\n  }\n}\n","export default function variance(values, valueof) {\n  let count = 0;\n  let delta;\n  let mean = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n  if (count > 1) return sum / (count - 1);\n}\n","import variance from \"./variance.js\";\n\nexport default function deviation(values, valueof) {\n  const v = variance(values, valueof);\n  return v ? Math.sqrt(v) : v;\n}\n","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(value);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","export default function(x) {\n  return x;\n}\n","import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n","export default function(source, keys) {\n  return Array.from(keys, key => source[key]);\n}\n","import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\n\nexport default function sort(values, ...F) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f = ascending] = F;\n  if (f.length === 1 || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascending(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascending(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(f);\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import {tickIncrement} from \"./ticks.js\";\n\nexport default function nice(start, stop, count) {\n  let prestep;\n  while (true) {\n    const step = tickIncrement(start, stop, count);\n    if (step === prestep || step === 0 || !isFinite(step)) {\n      return [start, stop];\n    } else if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n    }\n    prestep = step;\n  }\n}\n","import count from \"../count.js\";\n\nexport default function(values) {\n  return Math.ceil(Math.log(count(values)) / Math.LN2) + 1;\n}\n","import {slice} from \"./array.js\";\nimport bisect from \"./bisect.js\";\nimport constant from \"./constant.js\";\nimport extent from \"./extent.js\";\nimport identity from \"./identity.js\";\nimport nice from \"./nice.js\";\nimport ticks, {tickIncrement} from \"./ticks.js\";\nimport sturges from \"./threshold/sturges.js\";\n\nexport default function() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    if (!Array.isArray(data)) data = Array.from(data);\n\n    var i,\n        n = data.length,\n        x,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds, and nice the\n    // default domain accordingly.\n    if (!Array.isArray(tz)) {\n      const max = x1, tn = +tz;\n      if (domain === extent) [x0, x1] = nice(x0, x1, tn);\n      tz = ticks(x0, x1, tn);\n\n      // If the last threshold is coincident with the domain’s upper bound, the\n      // last bin will be zero-width. If the default domain is used, and this\n      // last threshold is coincident with the maximum input value, we can\n      // extend the niced upper bound by one tick to ensure uniform bin widths;\n      // otherwise, we simply remove the last threshold. Note that we don’t\n      // coerce values or the domain to numbers, and thus must be careful to\n      // compare order (>=) rather than strict equality (===)!\n      if (tz[tz.length - 1] >= x1) {\n        if (max >= x1 && domain === extent) {\n          const step = tickIncrement(x0, x1, tn);\n          if (isFinite(step)) {\n            if (step > 0) {\n              x1 = (Math.floor(x1 / step) + 1) * step;\n            } else if (step < 0) {\n              x1 = (Math.ceil(x1 * -step) + 1) / -step;\n            }\n          }\n        } else {\n          tz.pop();\n        }\n      }\n    }\n\n    // Remove any thresholds outside the domain.\n    var m = tz.length;\n    while (tz[0] <= x0) tz.shift(), --m;\n    while (tz[m - 1] > x1) tz.pop(), --m;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    for (i = 0; i < n; ++i) {\n      x = values[i];\n      if (x0 <= x && x <= x1) {\n        bins[bisect(tz, x, 0, m)].push(data[i]);\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n  };\n\n  return histogram;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = array.length - 1, compare = ascending) {\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","import max from \"./max.js\";\nimport min from \"./min.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","export default function maxIndex(values, valueof) {\n  let max;\n  let maxIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  }\n  return maxIndex;\n}\n","export default function minIndex(values, valueof) {\n  let min;\n  let minIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  }\n  return minIndex;\n}\n","export default function pairs(values, pairof = pair) {\n  const pairs = [];\n  let previous;\n  let first = false;\n  for (const value of values) {\n    if (first) pairs.push(pairof(previous, value));\n    previous = value;\n    first = true;\n  }\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n","import ascending from \"./ascending.js\";\nimport minIndex from \"./minIndex.js\";\n\nexport default function leastIndex(values, compare = ascending) {\n  if (compare.length === 1) return minIndex(values, compare);\n  let minValue;\n  let min = -1;\n  let index = -1;\n  for (const value of values) {\n    ++index;\n    if (min < 0\n        ? compare(value, value) === 0\n        : compare(value, minValue) < 0) {\n      minValue = value;\n      min = index;\n    }\n  }\n  return min;\n}\n","export default shuffler(Math.random);\n\nexport function shuffler(random) {\n  return function shuffle(array, i0 = 0, i1 = array.length) {\n    let m = i1 - (i0 = +i0);\n    while (m) {\n      const i = random() * m-- | 0, t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n    return array;\n  };\n}\n","import min from \"./min.js\";\n\nexport default function(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n","export default function set(values) {\n  return values instanceof Set ? values : new Set(values);\n}\n","export default function superset(values, other) {\n  const iterator = values[Symbol.iterator](), set = new Set();\n  for (const o of other) {\n    if (set.has(o)) continue;\n    let value, done;\n    while (({value, done} = iterator.next())) {\n      if (done) return false;\n      set.add(value);\n      if (Object.is(o, value)) break;\n    }\n  }\n  return true;\n}\n","export default function cumsum(values, valueof) {\n  var sum = 0, index = 0;\n  return Float64Array.from(values, valueof === undefined\n    ? v => (sum += +v || 0)\n    : v => (sum += +valueof(v, index++, values) || 0));\n}","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport group, {rollup} from \"./group.js\";\nimport sort from \"./sort.js\";\n\nexport default function groupSort(values, reduce, key) {\n  return (reduce.length === 1\n    ? sort(rollup(values, reduce, key), (([ak, av], [bk, bv]) => ascending(av, bv) || ascending(ak, bk)))\n    : sort(group(values, key), (([ak, av], [bk, bv]) => reduce(av, bv) || ascending(ak, bk))))\n    .map(([key]) => key);\n}\n","import count from \"../count.js\";\nimport quantile from \"../quantile.js\";\n\nexport default function(values, min, max) {\n  return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(count(values), -1 / 3)));\n}\n","import count from \"../count.js\";\nimport deviation from \"../deviation.js\";\n\nexport default function(values, min, max) {\n  return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(count(values), -1 / 3)));\n}\n","export default function mean(values, valueof) {\n  let count = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  }\n  if (count) return sum / count;\n}\n","import quantile from \"./quantile.js\";\n\nexport default function(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function least(values, compare = ascending) {\n  let min;\n  let defined = false;\n  if (compare.length === 1) {\n    let minValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, minValue) < 0\n          : ascending(value, value) === 0) {\n        min = element;\n        minValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, min) < 0\n          : compare(value, value) === 0) {\n        min = value;\n        defined = true;\n      }\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function greatest(values, compare = ascending) {\n  let max;\n  let defined = false;\n  if (compare.length === 1) {\n    let maxValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, maxValue) > 0\n          : ascending(value, value) === 0) {\n        max = element;\n        maxValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, max) > 0\n          : compare(value, value) === 0) {\n        max = value;\n        defined = true;\n      }\n    }\n  }\n  return max;\n}\n","import ascending from \"./ascending.js\";\nimport maxIndex from \"./maxIndex.js\";\n\nexport default function greatestIndex(values, compare = ascending) {\n  if (compare.length === 1) return maxIndex(values, compare);\n  let maxValue;\n  let max = -1;\n  let index = -1;\n  for (const value of values) {\n    ++index;\n    if (max < 0\n        ? compare(value, value) === 0\n        : compare(value, maxValue) > 0) {\n      maxValue = value;\n      max = index;\n    }\n  }\n  return max;\n}\n","import leastIndex from \"./leastIndex.js\";\n\nexport default function scan(values, compare) {\n  const index = leastIndex(values, compare);\n  return index < 0 ? undefined : index;\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","import transpose from \"./transpose.js\";\n\nexport default function() {\n  return transpose(arguments);\n}\n","export default function every(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  let index = -1;\n  for (const value of values) {\n    if (!test(value, ++index, values)) {\n      return false;\n    }\n  }\n  return true;\n}\n","export default function some(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  let index = -1;\n  for (const value of values) {\n    if (test(value, ++index, values)) {\n      return true;\n    }\n  }\n  return false;\n}\n","export default function filter(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  const array = [];\n  let index = -1;\n  for (const value of values) {\n    if (test(value, ++index, values)) {\n      array.push(value);\n    }\n  }\n  return array;\n}\n","export default function map(values, mapper) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  if (typeof mapper !== \"function\") throw new TypeError(\"mapper is not a function\");\n  return Array.from(values, (value, index) => mapper(value, index, values));\n}\n","export default function reduce(values, reducer, value) {\n  if (typeof reducer !== \"function\") throw new TypeError(\"reducer is not a function\");\n  const iterator = values[Symbol.iterator]();\n  let done, next, index = -1;\n  if (arguments.length < 3) {\n    ({done, value} = iterator.next());\n    if (done) return;\n    ++index;\n  }\n  while (({done, value: next} = iterator.next()), !done) {\n    value = reducer(value, next, ++index, values);\n  }\n  return value;\n}\n","export default function reverse(values) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  return Array.from(values).reverse();\n}\n","export default function difference(values, ...others) {\n  values = new Set(values);\n  for (const other of others) {\n    for (const value of other) {\n      values.delete(value);\n    }\n  }\n  return values;\n}\n","export default function disjoint(values, other) {\n  const iterator = other[Symbol.iterator](), set = new Set();\n  for (const v of values) {\n    if (set.has(v)) return false;\n    let value, done;\n    while (({value, done} = iterator.next())) {\n      if (done) break;\n      if (Object.is(v, value)) return false;\n      set.add(value);\n    }\n  }\n  return true;\n}\n","import set from \"./set.js\";\n\nexport default function intersection(values, ...others) {\n  values = new Set(values);\n  others = others.map(set);\n  out: for (const value of values) {\n    for (const other of others) {\n      if (!other.has(value)) {\n        values.delete(value);\n        continue out;\n      }\n    }\n  }\n  return values;\n}\n","import superset from \"./superset.js\";\n\nexport default function subset(values, other) {\n  return superset(other, values);\n}\n","export default function union(...others) {\n  const set = new Set();\n  for (const other of others) {\n    for (const o of other) {\n      set.add(o);\n    }\n  }\n  return set;\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return this.children;\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport array from \"../array.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = array(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    var group = select.apply(this, arguments);\n    return group == null ? [] : array(group);\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(selection) {\n  if (!(selection instanceof Selection)) throw new Error(\"invalid merge\");\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseText);\n}\n","import {csvParse, dsvFormat, tsvParse} from \"d3-dsv\";\nimport text from \"./text.js\";\n\nfunction dsvParse(parse) {\n  return function(input, init, row) {\n    if (arguments.length === 2 && typeof init === \"function\") row = init, init = undefined;\n    return text(input, init).then(function(response) {\n      return parse(response, row);\n    });\n  };\n}\n\nexport default function dsv(delimiter, input, init, row) {\n  if (arguments.length === 3 && typeof init === \"function\") row = init, init = undefined;\n  var format = dsvFormat(delimiter);\n  return text(input, init).then(function(response) {\n    return format.parse(response, row);\n  });\n}\n\nexport var csv = dsvParse(csvParse);\nexport var tsv = dsvParse(tsvParse);\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      x = 0,\n      y = 0,\n      a,\n      b = polygon[n - 1],\n      c,\n      k = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    k += c = a[0] * b[1] - b[0] * a[1];\n    x += (a[0] + b[0]) * c;\n    y += (a[1] + b[1]) * c;\n  }\n\n  return k *= 3, [x / k, y / k];\n}\n","import cross from \"./cross.js\";\n\nfunction lexicographicOrder(a, b) {\n  return a[0] - b[0] || a[1] - b[1];\n}\n\n// Computes the upper convex hull per the monotone chain algorithm.\n// Assumes points.length >= 3, is sorted by x, unique in y.\n// Returns an array of indices into points in left-to-right order.\nfunction computeUpperHullIndexes(points) {\n  const n = points.length,\n      indexes = [0, 1];\n  let size = 2, i;\n\n  for (i = 2; i < n; ++i) {\n    while (size > 1 && cross(points[indexes[size - 2]], points[indexes[size - 1]], points[i]) <= 0) --size;\n    indexes[size++] = i;\n  }\n\n  return indexes.slice(0, size); // remove popped points\n}\n\nexport default function(points) {\n  if ((n = points.length) < 3) return null;\n\n  var i,\n      n,\n      sortedPoints = new Array(n),\n      flippedPoints = new Array(n);\n\n  for (i = 0; i < n; ++i) sortedPoints[i] = [+points[i][0], +points[i][1], i];\n  sortedPoints.sort(lexicographicOrder);\n  for (i = 0; i < n; ++i) flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];\n\n  var upperIndexes = computeUpperHullIndexes(sortedPoints),\n      lowerIndexes = computeUpperHullIndexes(flippedPoints);\n\n  // Construct the hull polygon, removing possible duplicate endpoints.\n  var skipLeft = lowerIndexes[0] === upperIndexes[0],\n      skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1],\n      hull = [];\n\n  // Add upper hull in right-to-l order.\n  // Then add lower hull in left-to-right order.\n  for (i = upperIndexes.length - 1; i >= 0; --i) hull.push(points[sortedPoints[upperIndexes[i]][2]]);\n  for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i) hull.push(points[sortedPoints[lowerIndexes[i]][2]]);\n\n  return hull;\n}\n","// Returns the 2D cross product of AB and AC vectors, i.e., the z-component of\n// the 3D cross product in a quadrant I Cartesian coordinate system (+x is\n// right, +y is up). Returns a positive value if ABC is counter-clockwise,\n// negative if clockwise, and zero if the points are collinear.\nexport default function(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      a,\n      b = polygon[n - 1],\n      area = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    area += a[1] * b[0] - a[0] * b[1];\n  }\n\n  return area / 2;\n}\n","export default function(polygon, point) {\n  var n = polygon.length,\n      p = polygon[n - 1],\n      x = point[0], y = point[1],\n      x0 = p[0], y0 = p[1],\n      x1, y1,\n      inside = false;\n\n  for (var i = 0; i < n; ++i) {\n    p = polygon[i], x1 = p[0], y1 = p[1];\n    if (((y1 > y) !== (y0 > y)) && (x < (x0 - x1) * (y - y1) / (y0 - y1) + x1)) inside = !inside;\n    x0 = x1, y0 = y1;\n  }\n\n  return inside;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      b = polygon[n - 1],\n      xa,\n      ya,\n      xb = b[0],\n      yb = b[1],\n      perimeter = 0;\n\n  while (++i < n) {\n    xa = xb;\n    ya = yb;\n    b = polygon[i];\n    xb = b[0];\n    yb = b[1];\n    xa -= xb;\n    ya -= yb;\n    perimeter += Math.hypot(xa, ya);\n  }\n\n  return perimeter;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","import cross from \"./cross.js\";\n\nfunction lexicographicOrder(a, b) {\n  return a[0] - b[0] || a[1] - b[1];\n}\n\n// Computes the upper convex hull per the monotone chain algorithm.\n// Assumes points.length >= 3, is sorted by x, unique in y.\n// Returns an array of indices into points in left-to-right order.\nfunction computeUpperHullIndexes(points) {\n  var n = points.length,\n      indexes = [0, 1],\n      size = 2;\n\n  for (var i = 2; i < n; ++i) {\n    while (size > 1 && cross(points[indexes[size - 2]], points[indexes[size - 1]], points[i]) <= 0) --size;\n    indexes[size++] = i;\n  }\n\n  return indexes.slice(0, size); // remove popped points\n}\n\nexport default function(points) {\n  if ((n = points.length) < 3) return null;\n\n  var i,\n      n,\n      sortedPoints = new Array(n),\n      flippedPoints = new Array(n);\n\n  for (i = 0; i < n; ++i) sortedPoints[i] = [+points[i][0], +points[i][1], i];\n  sortedPoints.sort(lexicographicOrder);\n  for (i = 0; i < n; ++i) flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];\n\n  var upperIndexes = computeUpperHullIndexes(sortedPoints),\n      lowerIndexes = computeUpperHullIndexes(flippedPoints);\n\n  // Construct the hull polygon, removing possible duplicate endpoints.\n  var skipLeft = lowerIndexes[0] === upperIndexes[0],\n      skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1],\n      hull = [];\n\n  // Add upper hull in right-to-l order.\n  // Then add lower hull in left-to-right order.\n  for (i = upperIndexes.length - 1; i >= 0; --i) hull.push(points[sortedPoints[upperIndexes[i]][2]]);\n  for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i) hull.push(points[sortedPoints[lowerIndexes[i]][2]]);\n\n  return hull;\n}\n","// Returns the 2D cross product of AB and AC vectors, i.e., the z-component of\n// the 3D cross product in a quadrant I Cartesian coordinate system (+x is\n// right, +y is up). Returns a positive value if ABC is counter-clockwise,\n// negative if clockwise, and zero if the points are collinear.\nexport default function(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      a,\n      b = polygon[n - 1],\n      area = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    area += a[1] * b[0] - a[0] * b[1];\n  }\n\n  return area / 2;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      x = 0,\n      y = 0,\n      a,\n      b = polygon[n - 1],\n      c,\n      k = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    k += c = a[0] * b[1] - b[0] * a[1];\n    x += (a[0] + b[0]) * c;\n    y += (a[1] + b[1]) * c;\n  }\n\n  return k *= 3, [x / k, y / k];\n}\n","export default function(polygon, point) {\n  var n = polygon.length,\n      p = polygon[n - 1],\n      x = point[0], y = point[1],\n      x0 = p[0], y0 = p[1],\n      x1, y1,\n      inside = false;\n\n  for (var i = 0; i < n; ++i) {\n    p = polygon[i], x1 = p[0], y1 = p[1];\n    if (((y1 > y) !== (y0 > y)) && (x < (x0 - x1) * (y - y1) / (y0 - y1) + x1)) inside = !inside;\n    x0 = x1, y0 = y1;\n  }\n\n  return inside;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      b = polygon[n - 1],\n      xa,\n      ya,\n      xb = b[0],\n      yb = b[1],\n      perimeter = 0;\n\n  while (++i < n) {\n    xa = xb;\n    ya = yb;\n    b = polygon[i];\n    xb = b[0];\n    yb = b[1];\n    xa -= xb;\n    ya -= yb;\n    perimeter += Math.sqrt(xa * xa + ya * ya);\n  }\n\n  return perimeter;\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {Timer, now} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  delay = +delay, time = time == null ? now() : +time;\n  t.restart(function tick(elapsed) {\n    elapsed += total;\n    t.restart(tick, total += delay, time);\n    callback(elapsed);\n  }, delay, time);\n  return t;\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-array'), require('d3-polygon')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'd3-array', 'd3-polygon'], factory) :\n  (factory((global.d3 = global.d3 || {}),global.d3,global.d3));\n}(this, function (exports,d3Array,d3Polygon) { 'use strict';\n\n  var epsilon = 1e-10;\n\n  function epsilonesque(n) {\n    return n <= epsilon && n >= -epsilon;\n  }\n\n  // IN: vectors or vertices\n  // OUT: dot product\n  function dot(v0, v1) {\n    return v0.x * v1.x + v0.y * v1.y + v0.z * v1.z;\n  }\n\n  // IN: two vertex objects, v0 and v1\n  // OUT: true if they are linearly dependent, false otherwise\n  // from https://math.stackexchange.com/questions/1144357/how-can-i-prove-that-two-vectors-in-%E2%84%9D3-are-linearly-independent-iff-their-cro\n  function linearDependent(v0, v1) {\n    return (\n      epsilonesque(v0.x * v1.y - v0.y * v1.x) &&\n      epsilonesque(v0.y * v1.z - v0.z * v1.y) &&\n      epsilonesque(v0.z * v1.x - v0.x * v1.z)\n    );\n  }\n\n  // IN: an array of 2D-points [x,y]\n  // OUT: true if the set defines a convex polygon (non-intersecting, hole-free, non-concave)\n  // from https://gist.github.com/annatomka/82715127b74473859054, adapted to [x,y] syntax (instead of {x: ..., y: ...}) and optimizations\n  function polygonDirection(polygon) {\n    var direction, sign, crossproduct, p0, p1, p2, v0, v1, i;\n\n    //begin: initialization\n    p0 = polygon[polygon.length - 2];\n    p1 = polygon[polygon.length - 1];\n    p2 = polygon[0];\n    v0 = vect(p0, p1);\n    v1 = vect(p1, p2);\n    crossproduct = calculateCrossproduct(v0, v1);\n    // console.log(`[[${p0}], [${p1}], [${p2}]] => (${v0}) x (${v1}) = ${crossproduct}`);\n    sign = Math.sign(crossproduct);\n    //end: initialization\n\n    p0 = p1; // p0 = polygon[polygon.length - 1];\n    p1 = p2; // p1 = polygon[0];\n    p2 = polygon[1];\n    v0 = v1;\n    v1 = vect(p1, p2);\n    crossproduct = calculateCrossproduct(v0, v1);\n    // console.log(`[[${p0}], [${p1}], [${p2}]] => (${v0}) x (${v1}) = ${crossproduct}`);\n    if (Math.sign(crossproduct) !== sign) {\n      return undefined;\n    } //different signs in cross products means concave polygon\n\n    //iterate on remaining 3 consecutive points\n    for (i = 2; i < polygon.length - 1; i++) {\n      p0 = p1;\n      p1 = p2;\n      p2 = polygon[i];\n      v0 = v1;\n      v1 = vect(p1, p2);\n      crossproduct = calculateCrossproduct(v0, v1);\n      // console.log(`[[${p0}], [${p1}], [${p2}]] => (${v0}) x (${v1}) = ${crossproduct}`);\n      if (Math.sign(crossproduct) !== sign) {\n        return undefined;\n      } //different signs in cross products means concave polygon\n    }\n\n    return sign;\n  }\n\n  function vect(from, to) {\n    return [to[0] - from[0], to[1] - from[1]];\n  }\n\n  function calculateCrossproduct(v0, v1) {\n    return v0[0] * v1[1] - v0[1] * v1[0];\n  }\n\n  // ConflictList and ConflictListNode\n\n  function ConflictListNode (face, vert) {\n    this.face = face;\n    this.vert = vert;\n    this.nextf = null;\n    this.prevf = null;\n    this.nextv = null;\n    this.prevv = null;\n  }\n\n  // IN: boolean forFace\n  function ConflictList (forFace) {\n    this.forFace = forFace;\n    this.head = null;\n  }\n\n  // IN: ConflictListNode cln\n  ConflictList.prototype.add = function(cln) {\n    if (this.head === null) {\n      this.head = cln;\n    } else {\n      if (this.forFace) {  // Is FaceList\n        this.head.prevv = cln;\n        cln.nextv = this.head;\n        this.head = cln;\n      } else {  // Is VertexList\n        this.head.prevf = cln;\n        cln.nextf = this.head;\n        this.head = cln;\n      }\n    }\n  }\n\n  ConflictList.prototype.isEmpty = function() {\n    return this.head === null;\n  }\n\n  // Array of faces visible\n  ConflictList.prototype.fill = function(visible) {\n    if (this.forFace) {\n      return;\n    }\n    var curr = this.head;\n    do {\n      visible.push(curr.face);\n      curr.face.marked = true;\n      curr = curr.nextf;\n    } while (curr !== null);\n  }\n\n  ConflictList.prototype.removeAll = function() {\n    if (this.forFace) {  // Remove all vertices from Face\n      var curr = this.head;\n      do {\n        if (curr.prevf === null) {  // Node is head\n          if (curr.nextf === null) {\n            curr.vert.conflicts.head = null;\n          } else {\n            curr.nextf.prevf = null;\n            curr.vert.conflicts.head = curr.nextf;\n          }\n        } else {  // Node is not head\n          if (curr.nextf != null) {\n            curr.nextf.prevf = curr.prevf;\n          }\n          curr.prevf.nextf = curr.nextf;\n        }\n        curr = curr.nextv;\n        if (curr != null) {\n          curr.prevv = null;\n        }\n      } while (curr != null);\n    } else {  // Remove all JFaces from vertex\n      var curr = this.head;\n      do {\n        if (curr.prevv == null) {  // Node is head\n          if (curr.nextv == null) {\n            curr.face.conflicts.head = null;\n          } else {\n            curr.nextv.prevv = null;\n            curr.face.conflicts.head = curr.nextv;\n          }\n        } else {  // Node is not head\n          if (curr.nextv != null) {\n            curr.nextv.prevv = curr.prevv;\n          }\n          curr.prevv.nextv = curr.nextv;\n        }\n        curr = curr.nextf;\n        if (curr != null)\n          curr.prevf = null;\n      } while (curr != null);\n    }\n  }\n\n  // IN: list of vertices\n  ConflictList.prototype.getVertices = function() {\n    var list = [],\n    \t\tcurr = this.head;\n    while (curr !== null) {\n      list.push(curr.vert);\n      curr = curr.nextv;\n    }\n    return list;\n  }\n\n  // IN: coordinates x, y, z\n  function Vertex (x, y, z, weight, orig, isDummy) {\n    this.x = x;\n    this.y = y;\n    this.weight = epsilon;\n    this.index = 0;\n    this.conflicts = new ConflictList(false);\n    this.neighbours = null;  // Potential trouble\n    this.nonClippedPolygon = null;\n    this.polygon = null;\n    this.originalObject = null;\n    this.isDummy = false;\n\n    if (orig !== undefined) {\n      this.originalObject = orig;\n    }\n    if (isDummy != undefined) {\n      this.isDummy = isDummy;\n    }\n    if (weight != null) {\n      this.weight = weight;\n    }\n    if (z != null) {\n      this.z = z;\n    } else {\n      this.z = this.projectZ(this.x, this.y, this.weight);\n    }\n  }\n\n  Vertex.prototype.projectZ = function(x, y, weight) {\n    return ((x*x) + (y*y) - weight);\n  }\n\n  Vertex.prototype.setWeight = function(weight) {\n    this.weight = weight;\n    this.z = this.projectZ(this.x, this.y, this.weight);\n  }\n\n  Vertex.prototype.subtract = function(v) {\n    return new Vertex(v.x - this.x, v.y - this.y, v.z - this.z);\n  }\n\n  Vertex.prototype.crossproduct = function(v) {\n    return new Vertex((this.y * v.z) - (this.z * v.y), (this.z * v.x) - (this.x * v.z), (this.x * v.y) - (this.y * v.x));\n  }\n\n  Vertex.prototype.equals = function(v) {\n    return (this.x === v.x && this.y === v.y && this.z === v.z);\n  }\n\n  // Plane3D and Point2D\n\n  // IN: Face face\n  function Plane3D (face) {\n    var p1 = face.verts[0];\n    var p2 = face.verts[1];\n    var p3 = face.verts[2];\n    this.a = p1.y * (p2.z-p3.z) + p2.y * (p3.z-p1.z) + p3.y * (p1.z-p2.z);\n    this.b = p1.z * (p2.x-p3.x) + p2.z * (p3.x-p1.x) + p3.z * (p1.x-p2.x);\n    this.c = p1.x * (p2.y-p3.y) + p2.x * (p3.y-p1.y) + p3.x * (p1.y-p2.y);\n    this.d = -1 * (p1.x * (p2.y*p3.z - p3.y*p2.z) + p2.x * (p3.y*p1.z - p1.y*p3.z) + p3.x * (p1.y*p2.z - p2.y*p1.z));\t\n  }\n\n  Plane3D.prototype.getNormZPlane = function() {\n    return [\n      -1 * (this.a / this.c),\n      -1 * (this.b / this.c),\n      -1 * (this.d / this.c)\n    ];\n  }\n\n  // OUT: point2D\n  Plane3D.prototype.getDualPointMappedToPlane = function() {\n    var nplane = this.getNormZPlane();\n    var dualPoint = new Point2D(nplane[0]/2, nplane[1]/2);\n    return dualPoint;\n  }\n\n  // IN: doubles x and y\n  function Point2D (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  // Vector\n\n  // IN: coordinates x, y, z\n  function Vector (x, y, z) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n  }\n\n  Vector.prototype.negate = function() {\n    this.x *= -1;\n    this.y *= -1;\n    this.z *= -1;\n  }\n\n  // Normalizes X Y and Z in-place\n  Vector.prototype.normalize = function() {\n    var lenght = Math.sqrt((this.x * this.x) + (this.y * this.y) + (this.z * this.z));\n    if (lenght > 0) {\n      this.x /= lenght;\n      this.y /= lenght;\n      this.z /= lenght;\n    }\n  }\n\n  // HEdge\n\n  // IN: vertex orig, vertex dest, Face face\n  function HEdge (orig, dest, face) {\n    this.next = null;\n    this.prev = null;\n    this.twin = null;\n    this.orig = orig;\n    this.dest = dest;\n    this.iFace = face;\n  }\n\n  HEdge.prototype.isHorizon = function() {\n    return this.twin !== null && !this.iFace.marked && this.twin.iFace.marked;\n  }\n\n  // IN: array horizon\n  HEdge.prototype.findHorizon = function(horizon) {\n    if (this.isHorizon()) {\n      if (horizon.length > 0 && this === horizon[0]) {\n        return;\n      } else {\n        horizon.push(this);\n        this.next.findHorizon(horizon);\n      }\n    } else {\n      if (this.twin !== null) {\n        this.twin.next.findHorizon(horizon);\n      }\n    }\n  }\n\n  // IN: vertices origin and dest\n  HEdge.prototype.isEqual = function(origin, dest) {\n    return ((this.orig.equals(origin) && this.dest.equals(dest)) || (this.orig.equals(dest) && this.dest.equals(origin)));\n  }\n\n  // from https://stackoverflow.com/questions/1382107/whats-a-good-way-to-extend-error-in-javascript\n  // (above link provided by https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)\n\n  function d3WeightedVoronoiError(message) {\n    this.message = message;\n    this.stack = new Error().stack;\n  }\n\n  d3WeightedVoronoiError.prototype.name = 'd3WeightedVoronoiError';\n  d3WeightedVoronoiError.prototype = new Error();\n\n  // IN: Vertices a, b, c\n  function Face(a, b, c, orient) {\n    this.conflicts = new ConflictList(true);\n    this.verts = [a, b, c];\n    this.marked = false;\n    var t = a.subtract(b).crossproduct(b.subtract(c));\n\n    this.normal = new Vector(-t.x, -t.y, -t.z);\n    this.normal.normalize();\n    this.createEdges();\n    this.dualPoint = null;\n\n    if (orient != undefined) {\n      this.orient(orient);\n    }\n  }\n\n  // OUT: Point2D\n  Face.prototype.getDualPoint = function () {\n    if (this.dualPoint == null) {\n      var plane3d = new Plane3D(this);\n      this.dualPoint = plane3d.getDualPointMappedToPlane();\n    }\n    return this.dualPoint;\n  };\n\n  Face.prototype.isVisibleFromBelow = function () {\n    return this.normal.z < -1.4259414393190911e-9;\n  };\n\n  Face.prototype.createEdges = function () {\n    this.edges = [];\n    this.edges[0] = new HEdge(this.verts[0], this.verts[1], this);\n    this.edges[1] = new HEdge(this.verts[1], this.verts[2], this);\n    this.edges[2] = new HEdge(this.verts[2], this.verts[0], this);\n    this.edges[0].next = this.edges[1];\n    this.edges[0].prev = this.edges[2];\n    this.edges[1].next = this.edges[2];\n    this.edges[1].prev = this.edges[0];\n    this.edges[2].next = this.edges[0];\n    this.edges[2].prev = this.edges[1];\n  };\n\n  // IN: vertex orient\n  Face.prototype.orient = function (orient) {\n    if (!(dot(this.normal, orient) < dot(this.normal, this.verts[0]))) {\n      var temp = this.verts[1];\n      this.verts[1] = this.verts[2];\n      this.verts[2] = temp;\n      this.normal.negate();\n      this.createEdges();\n    }\n  };\n\n  // IN: two vertices v0 and v1\n  Face.prototype.getEdge = function (v0, v1) {\n    for (var i = 0; i < 3; i++) {\n      if (this.edges[i].isEqual(v0, v1)) {\n        return this.edges[i];\n      }\n    }\n    return null;\n  };\n\n  // IN: Face face, vertices v0 and v1\n  Face.prototype.link = function (face, v0, v1) {\n    if (face instanceof Face) {\n      var twin = face.getEdge(v0, v1);\n      if (twin === null) {\n        throw new d3WeightedVoronoiError('when linking, twin is null');\n      }\n      var edge = this.getEdge(v0, v1);\n      if (edge === null) {\n        throw new d3WeightedVoronoiError('when linking, twin is null');\n      }\n      twin.twin = edge;\n      edge.twin = twin;\n    } else {\n      var twin = face; // face is a hEdge\n      var edge = this.getEdge(twin.orig, twin.dest);\n      twin.twin = edge;\n      edge.twin = twin;\n    }\n  };\n\n  // IN: vertex v\n  Face.prototype.conflict = function (v) {\n    return dot(this.normal, v) > dot(this.normal, this.verts[0]) + epsilon;\n  };\n\n  Face.prototype.getHorizon = function () {\n    for (var i = 0; i < 3; i++) {\n      if (this.edges[i].twin !== null && this.edges[i].twin.isHorizon()) {\n        return this.edges[i];\n      }\n    }\n    return null;\n  };\n\n  Face.prototype.removeConflict = function () {\n    this.conflicts.removeAll();\n  };\n\n  function ConvexHull() {\n    this.points = [];\n    this.facets = [];\n    this.created = [];\n    this.horizon = [];\n    this.visible = [];\n    this.current = 0;\n  }\n\n  // IN: sites (x,y,z)\n  ConvexHull.prototype.init = function (boundingSites, sites) {\n    this.points = [];\n    for (var i = 0; i < sites.length; i++) {\n      this.points[i] = new Vertex(sites[i].x, sites[i].y, sites[i].z, null, sites[i], false);\n    }\n    this.points = this.points.concat(boundingSites);\n  };\n\n  ConvexHull.prototype.permutate = function () {\n    var pointSize = this.points.length;\n    for (var i = pointSize - 1; i > 0; i--) {\n      var ra = Math.floor(Math.random() * i);\n      var temp = this.points[ra];\n      temp.index = i;\n      var currentItem = this.points[i];\n      currentItem.index = ra;\n      this.points.splice(ra, 1, currentItem);\n      this.points.splice(i, 1, temp);\n    }\n  };\n\n  (ConvexHull.prototype.prep = function () {\n    if (this.points.length <= 3) {\n      throw new d3WeightedVoronoiError('Less than 4 points');\n    }\n    for (var i = 0; i < this.points.length; i++) {\n      this.points[i].index = i;\n    }\n\n    var v0, v1, v2, v3;\n    var f1, f2, f3, f0;\n    v0 = this.points[0];\n    v1 = this.points[1];\n    v2 = v3 = null;\n\n    for (var i = 2; i < this.points.length; i++) {\n      if (!(linearDependent(v0, this.points[i]) && linearDependent(v1, this.points[i]))) {\n        v2 = this.points[i];\n        v2.index = 2;\n        this.points[2].index = i;\n        this.points.splice(i, 1, this.points[2]);\n        this.points.splice(2, 1, v2);\n        break;\n      }\n    }\n    if (v2 === null) {\n      throw new d3WeightedVoronoiError('v2 is null');\n    }\n\n    f0 = new Face(v0, v1, v2);\n    for (var i = 3; i < this.points.length; i++) {\n      if (dot(f0.normal, f0.verts[0]) !== dot(f0.normal, this.points[i])) {\n        v3 = this.points[i];\n        v3.index = 3;\n        this.points[3].index = i;\n        this.points.splice(i, 1, this.points[3]);\n        this.points.splice(3, 1, v3);\n        break;\n      }\n    }\n    if (v3 === null) {\n      throw new d3WeightedVoronoiError('v3 is null');\n    }\n\n    f0.orient(v3);\n    f1 = new Face(v0, v2, v3, v1);\n    f2 = new Face(v0, v1, v3, v2);\n    f3 = new Face(v1, v2, v3, v0);\n    this.addFacet(f0);\n    this.addFacet(f1);\n    this.addFacet(f2);\n    this.addFacet(f3);\n    // Connect facets\n    f0.link(f1, v0, v2);\n    f0.link(f2, v0, v1);\n    f0.link(f3, v1, v2);\n    f1.link(f2, v0, v3);\n    f1.link(f3, v2, v3);\n    f2.link(f3, v3, v1);\n    this.current = 4;\n\n    var v;\n    for (var i = this.current; i < this.points.length; i++) {\n      v = this.points[i];\n      if (f0.conflict(v)) {\n        this.addConflict(f0, v);\n      }\n      if (f1.conflict(v)) {\n        this.addConflict(f1, v);\n      }\n      if (f2.conflict(v)) {\n        this.addConflict(f2, v);\n      }\n      if (f3.conflict(v)) {\n        this.addConflict(f3, v);\n      }\n    }\n  }),\n    // IN: Faces old1 old2 and fn\n    (ConvexHull.prototype.addConflicts = function (old1, old2, fn) {\n      var l1 = old1.conflicts.getVertices();\n      var l2 = old2.conflicts.getVertices();\n      var nCL = [];\n      var v1, v2;\n      var i, l;\n      i = l = 0;\n      // Fill the possible new Conflict List\n      while (i < l1.length || l < l2.length) {\n        if (i < l1.length && l < l2.length) {\n          v1 = l1[i];\n          v2 = l2[l];\n          // If the index is the same, it's the same vertex and only 1 has to be added\n          if (v1.index === v2.index) {\n            nCL.push(v1);\n            i++;\n            l++;\n          } else if (v1.index > v2.index) {\n            nCL.push(v1);\n            i++;\n          } else {\n            nCL.push(v2);\n            l++;\n          }\n        } else if (i < l1.length) {\n          nCL.push(l1[i++]);\n        } else {\n          nCL.push(l2[l++]);\n        }\n      }\n      // Check if the possible conflicts are real conflicts\n      for (var i = nCL.length - 1; i >= 0; i--) {\n        v1 = nCL[i];\n        if (fn.conflict(v1)) this.addConflict(fn, v1);\n      }\n    });\n\n  // IN: Face face, Vertex v\n  ConvexHull.prototype.addConflict = function (face, vert) {\n    var e = new ConflictListNode(face, vert);\n    face.conflicts.add(e);\n    vert.conflicts.add(e);\n  };\n\n  // IN: Face f\n  ConvexHull.prototype.removeConflict = function (f) {\n    f.removeConflict();\n    var index = f.index;\n    f.index = -1;\n    if (index === this.facets.length - 1) {\n      this.facets.splice(this.facets.length - 1, 1);\n      return;\n    }\n    if (index >= this.facets.length || index < 0) return;\n    var last = this.facets.splice(this.facets.length - 1, 1);\n    last[0].index = index;\n    this.facets.splice(index, 1, last[0]);\n  };\n\n  // IN: Face face\n  ConvexHull.prototype.addFacet = function (face) {\n    face.index = this.facets.length;\n    this.facets.push(face);\n  };\n\n  ConvexHull.prototype.compute = function () {\n    this.prep();\n    while (this.current < this.points.length) {\n      var next = this.points[this.current];\n      if (next.conflicts.isEmpty()) {\n        // No conflict, point in hull\n        this.current++;\n        continue;\n      }\n      this.created = []; // TODO: make sure this is okay and doesn't dangle references\n      this.horizon = [];\n      this.visible = [];\n      // The visible faces are also marked\n      next.conflicts.fill(this.visible);\n      // Horizon edges are orderly added to the horizon list\n      var e;\n      for (var jF = 0; jF < this.visible.length; jF++) {\n        e = this.visible[jF].getHorizon();\n        if (e !== null) {\n          e.findHorizon(this.horizon);\n          break;\n        }\n      }\n      var last = null,\n        first = null;\n      // Iterate over horizon edges and create new faces oriented with the marked face 3rd unused point\n      for (var hEi = 0; hEi < this.horizon.length; hEi++) {\n        var hE = this.horizon[hEi];\n        var fn = new Face(next, hE.orig, hE.dest, hE.twin.next.dest);\n        fn.conflicts = new ConflictList(true);\n        // Add to facet list\n        this.addFacet(fn);\n        this.created.push(fn);\n        // Add new conflicts\n        this.addConflicts(hE.iFace, hE.twin.iFace, fn);\n        // Link the new face with the horizon edge\n        fn.link(hE);\n        if (last !== null) fn.link(last, next, hE.orig);\n        last = fn;\n        if (first === null) first = fn;\n      }\n      // Links the first and the last created JFace\n      if (first !== null && last !== null) {\n        last.link(first, next, this.horizon[0].orig);\n      }\n      if (this.created.length != 0) {\n        // update conflict graph\n        for (var f = 0; f < this.visible.length; f++) {\n          this.removeConflict(this.visible[f]);\n        }\n        this.current++;\n        this.created = [];\n      }\n    }\n    return this.facets;\n  };\n\n  ConvexHull.prototype.clear = function () {\n    this.points = [];\n    this.facets = [];\n    this.created = [];\n    this.horizon = [];\n    this.visible = [];\n    this.current = 0;\n  };\n\n  function polygonClip(clip, subject) {\n    // Version 0.0.0. Copyright 2017 Mike Bostock.\n\n    // Clips the specified subject polygon to the specified clip polygon;\n    // requires the clip polygon to be counterclockwise and convex.\n    // https://en.wikipedia.org/wiki/Sutherland–Hodgman_algorithm\n    // https://observablehq.com/@d3/polygonclip\n\n    var input,\n      closed = polygonClosed(subject),\n      i = -1,\n      n = clip.length - polygonClosed(clip),\n      j,\n      m,\n      a = clip[n - 1],\n      b,\n      c,\n      d,\n      intersection;\n\n    while (++i < n) {\n      input = subject.slice();\n      subject.length = 0;\n      b = clip[i];\n      c = input[(m = input.length - closed) - 1];\n      j = -1;\n      while (++j < m) {\n        d = input[j];\n        if (polygonInside(d, a, b)) {\n          if (!polygonInside(c, a, b)) {\n            intersection = polygonIntersect(c, d, a, b);\n            if (isFinite(intersection[0])) {\n              subject.push(intersection);\n            }\n          }\n          subject.push(d);\n        } else if (polygonInside(c, a, b)) {\n          intersection = polygonIntersect(c, d, a, b);\n          if (isFinite(intersection[0])) {\n            subject.push(intersection);\n          }\n        }\n        c = d;\n      }\n      if (closed) subject.push(subject[0]);\n      a = b;\n    }\n\n    return subject;\n  }\n\n  function polygonInside(p, a, b) {\n    return (b[0] - a[0]) * (p[1] - a[1]) < (b[1] - a[1]) * (p[0] - a[0]);\n  }\n\n  // Intersect two infinite lines cd and ab.\n  // Return Infinity if cd and ab colinear\n  function polygonIntersect(c, d, a, b) {\n    var x1 = c[0],\n      x3 = a[0],\n      x21 = d[0] - x1,\n      x43 = b[0] - x3,\n      y1 = c[1],\n      y3 = a[1],\n      y21 = d[1] - y1,\n      y43 = b[1] - y3,\n      ua = (x43 * (y1 - y3) - y43 * (x1 - x3)) / (y43 * x21 - x43 * y21);\n    return [x1 + ua * x21, y1 + ua * y21];\n  }\n\n  // Returns true if the polygon is closed.\n  function polygonClosed(coordinates) {\n    var a = coordinates[0],\n      b = coordinates[coordinates.length - 1];\n    return !(a[0] - b[0] || a[1] - b[1]);\n  }\n\n  // IN: HEdge edge\n  function getFacesOfDestVertex(edge) {\n    var faces = [];\n    var previous = edge;\n    var first = edge.dest;\n    var site = first.originalObject;\n    var neighbours = [];\n    do {\n      previous = previous.twin.prev;\n      var siteOrigin = previous.orig.originalObject;\n      if (!siteOrigin.isDummy) {\n        neighbours.push(siteOrigin);\n      }\n      var iFace = previous.iFace;\n      if (iFace.isVisibleFromBelow()) {\n        faces.push(iFace);\n      }\n    } while (previous !== edge);\n    site.neighbours = neighbours;\n    return faces;\n  }\n\n  // IN: Omega = convex bounding polygon\n  // IN: S = unique set of sites with weights\n  // OUT: Set of lines making up the voronoi power diagram\n  function computePowerDiagramIntegrated (sites, boundingSites, clippingPolygon) {\n    var convexHull = new ConvexHull();\n    convexHull.clear();\n    convexHull.init(boundingSites, sites);\n\n    var facets = convexHull.compute(sites);\n    var polygons = []; \n    var verticesVisited = [];\n    var facetCount = facets.length;\n\n    for (var i = 0; i < facetCount; i++) {\n      var facet = facets[i];\n      if (facet.isVisibleFromBelow()) {\n        for (var e = 0; e < 3; e++) {\n          // go through the edges and start to build the polygon by going through the double connected edge list\n          var edge = facet.edges[e];\n          var destVertex = edge.dest;\n          var site = destVertex.originalObject; \n\n          if (!verticesVisited[destVertex.index]) {\n            verticesVisited[destVertex.index] = true;\n            if (site.isDummy) {\n              // Check if this is one of the sites making the bounding polygon\n              continue;\n            }\n            // faces around the vertices which correspond to the polygon corner points\n            var faces = getFacesOfDestVertex(edge);\n            var protopoly = [];\n            var lastX = null;\n            var lastY = null;\n            var dx = 1;\n            var dy = 1;\n            for (var j = 0; j < faces.length; j++) {\n              var point = faces[j].getDualPoint();\n              var x1 = point.x;\n              var y1 = point.y;\n              if (lastX !== null) {\n                dx = lastX - x1;\n                dy = lastY - y1;\n                if (dx < 0) {\n                  dx = -dx;\n                }\n                if (dy < 0) {\n                  dy = -dy;\n                }\n              }\n              if (dx > epsilon || dy > epsilon) {\n                protopoly.push([x1, y1]);\n                lastX = x1;\n                lastY = y1;\n              }\n            }\n            \n            site.nonClippedPolygon = protopoly.reverse();\n            if (!site.isDummy && d3Polygon.polygonLength(site.nonClippedPolygon) > 0) {\n              var clippedPoly = polygonClip(clippingPolygon, site.nonClippedPolygon);\n              site.polygon = clippedPoly;\n              clippedPoly.site = site;\n              if (clippedPoly.length > 0) {\n                polygons.push(clippedPoly);\n              }\n            }\n          }\n        }\n      }\n    }\n    return polygons;\n  }\n\n  function weightedVoronoi() {\n    /////// Inputs ///////\n    var x = function (d) {\n      return d.x;\n    }; // accessor to the x value\n    var y = function (d) {\n      return d.y;\n    }; // accessor to the y value\n    var weight = function (d) {\n      return d.weight;\n    }; // accessor to the weight\n    var clip = [\n      [0, 0],\n      [0, 1],\n      [1, 1],\n      [1, 0],\n    ]; // clipping polygon\n    var extent = [\n      [0, 0],\n      [1, 1],\n    ]; // extent of the clipping polygon\n    var size = [1, 1]; // [width, height] of the clipping polygon\n\n    ///////////////////////\n    ///////// API /////////\n    ///////////////////////\n\n    function _weightedVoronoi(data) {\n      var formatedSites;\n\n      //begin: map sites to the expected format of PowerDiagram\n      formatedSites = data.map(function (d) {\n        return new Vertex(x(d), y(d), null, weight(d), d, false);\n      });\n      //end: map sites to the expected format of PowerDiagram\n\n      return computePowerDiagramIntegrated(formatedSites, boundingSites(), clip);\n    }\n\n    _weightedVoronoi.x = function (_) {\n      if (!arguments.length) {\n        return x;\n      }\n\n      x = _;\n      return _weightedVoronoi;\n    };\n\n    _weightedVoronoi.y = function (_) {\n      if (!arguments.length) {\n        return y;\n      }\n\n      y = _;\n      return _weightedVoronoi;\n    };\n\n    _weightedVoronoi.weight = function (_) {\n      if (!arguments.length) {\n        return weight;\n      }\n\n      weight = _;\n      return _weightedVoronoi;\n    };\n\n    _weightedVoronoi.clip = function (_) {\n      var direction, xExtent, yExtent;\n\n      if (!arguments.length) {\n        return clip;\n      }\n\n      xExtent = d3Array.extent(\n        _.map(function (c) {\n          return c[0];\n        })\n      );\n      yExtent = d3Array.extent(\n        _.map(function (c) {\n          return c[1];\n        })\n      );\n      direction = polygonDirection(_);\n      if (direction === undefined) {\n        clip = d3Polygon.polygonHull(_); // ensure clip to be a convex, hole-free, counterclockwise polygon\n      } else if (direction === 1) {\n        clip = _.reverse(); // already convex, order array in the same direction as d3-polygon.polygonHull(...)\n      } else {\n        clip = _;\n      }\n      extent = [\n        [xExtent[0], yExtent[0]],\n        [xExtent[1], yExtent[1]],\n      ];\n      size = [xExtent[1] - xExtent[0], yExtent[1] - yExtent[0]];\n      return _weightedVoronoi;\n    };\n\n    _weightedVoronoi.extent = function (_) {\n      if (!arguments.length) {\n        return extent;\n      }\n\n      clip = [_[0], [_[0][0], _[1][1]], _[1], [_[1][0], _[0][1]]];\n      extent = _;\n      size = [_[1][0] - _[0][0], _[1][1] - _[0][1]];\n      return _weightedVoronoi;\n    };\n\n    _weightedVoronoi.size = function (_) {\n      if (!arguments.length) {\n        return size;\n      }\n\n      clip = [\n        [0, 0],\n        [0, _[1]],\n        [_[0], _[1]],\n        [_[0], 0],\n      ];\n      extent = [[0, 0], _];\n      size = _;\n      return _weightedVoronoi;\n    };\n\n    ///////////////////////\n    /////// Private ///////\n    ///////////////////////\n\n    function boundingSites() {\n      var minX,\n        maxX,\n        minY,\n        maxY,\n        width,\n        height,\n        x0,\n        x1,\n        y0,\n        y1,\n        boundingData = [],\n        boundingSites = [];\n\n      minX = extent[0][0];\n      maxX = extent[1][0];\n      minY = extent[0][1];\n      maxY = extent[1][1];\n      width = maxX - minX;\n      height = maxY - minY;\n      x0 = minX - width;\n      x1 = maxX + width;\n      y0 = minY - height;\n      y1 = maxY + height;\n\n      // MUST be counterclockwise\n      // if not, may produce 'TypeError: Cannot set property 'twin' of null' during computation\n      // don't know how to test as it is not exposed\n      boundingData[0] = [x0, y0];\n      boundingData[1] = [x0, y1];\n      boundingData[2] = [x1, y1];\n      boundingData[3] = [x1, y0];\n\n      for (var i = 0; i < 4; i++) {\n        boundingSites.push(\n          new Vertex(\n            boundingData[i][0],\n            boundingData[i][1],\n            null,\n            epsilon,\n            new Vertex(boundingData[i][0], boundingData[i][1], null, epsilon, null, true),\n            true\n          )\n        );\n      }\n\n      return boundingSites;\n    }\n\n    return _weightedVoronoi;\n  }\n\n  exports.weightedVoronoi = weightedVoronoi;\n  exports.d3WeightedVoronoiError = d3WeightedVoronoiError;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-polygon'), require('d3-timer'), require('d3-dispatch'), require('d3-weighted-voronoi')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'd3-polygon', 'd3-timer', 'd3-dispatch', 'd3-weighted-voronoi'], factory) :\n  (factory((global.d3 = global.d3 || {}),global.d3,global.d3,global.d3,global.d3));\n}(this, function (exports,d3Polygon,d3Timer,d3Dispatch,d3WeightedVoronoi) { 'use strict';\n\n  function FlickeringMitigation () {\n    /////// Inputs ///////\n    this.growthChangesLength = DEFAULT_LENGTH;\n    this.totalAvailableArea = NaN;\n\n    //begin: internals\n    this.lastAreaError = NaN;\n    this.lastGrowth = NaN;\n    this.growthChanges = [];\n    this.growthChangeWeights = generateGrowthChangeWeights(this.growthChangesLength); //used to make recent changes weighter than older changes\n    this.growthChangeWeightsSum = computeGrowthChangeWeightsSum(this.growthChangeWeights);\n    //end: internals\n  }\n\n  var DEFAULT_LENGTH = 10;\n\n  function direction(h0, h1) {\n    return (h0 >= h1)? 1 : -1;\n  }\n\n  function generateGrowthChangeWeights(length) {\n    var initialWeight = 3;   // a magic number\n    var weightDecrement = 1; // a magic number\n    var minWeight = 1;\n\n    var weightedCount = initialWeight;\n    var growthChangeWeights = [];\n\n    for (var i=0; i<length; i++) {\n      growthChangeWeights.push(weightedCount);\n      weightedCount -= weightDecrement;\n      if (weightedCount<minWeight) { weightedCount = minWeight; }\n    }\n    return growthChangeWeights;\n  }\n\n  function computeGrowthChangeWeightsSum (growthChangeWeights) {\n    var growthChangeWeightsSum = 0;\n    for (var i=0; i<growthChangeWeights.length; i++) {\n      growthChangeWeightsSum += growthChangeWeights[i];\n    }\n    return growthChangeWeightsSum;\n  }\n\n  ///////////////////////\n  ///////// API /////////\n  ///////////////////////\n\n  FlickeringMitigation.prototype.reset = function () {\n    this.lastAreaError = NaN;\n    this.lastGrowth = NaN;\n    this.growthChanges = [];\n    this.growthChangesLength = DEFAULT_LENGTH;\n    this.growthChangeWeights = generateGrowthChangeWeights(this.growthChangesLength);\n    this.growthChangeWeightsSum = computeGrowthChangeWeightsSum(this.growthChangeWeights);\n    this.totalAvailableArea = NaN;\n\n    return this;\n  };\n\n  FlickeringMitigation.prototype.clear = function () {\n    this.lastAreaError = NaN;\n    this.lastGrowth = NaN;\n    this.growthChanges = [];\n\n    return this;\n  };\n\n  FlickeringMitigation.prototype.length = function (_) {\n    if (!arguments.length) { return this.growthChangesLength; }\n\n    if (parseInt(_)>0) {\n      this.growthChangesLength = Math.floor(parseInt(_));\n      this.growthChangeWeights = generateGrowthChangeWeights(this.growthChangesLength);\n      this.growthChangeWeightsSum = computeGrowthChangeWeightsSum(this.growthChangeWeights);\n    } else {\n      console.warn(\"FlickeringMitigation.length() accepts only positive integers; unable to handle \"+_);\n    }\n    return this;\n  };\n\n  FlickeringMitigation.prototype.totalArea = function (_) {\n    if (!arguments.length) { return this.totalAvailableArea; }\n\n    if (parseFloat(_)>0) {\n      this.totalAvailableArea = parseFloat(_);\n    } else {\n      console.warn(\"FlickeringMitigation.totalArea() accepts only positive numbers; unable to handle \"+_);\n    }\n    return this;\n  };\n\n  FlickeringMitigation.prototype.add = function (areaError) {\n    var secondToLastAreaError, secondToLastGrowth;\n\n    secondToLastAreaError = this.lastAreaError;\n    this.lastAreaError = areaError;\n    if (!isNaN(secondToLastAreaError)) {\n      secondToLastGrowth = this.lastGrowth;\n      this.lastGrowth = direction(this.lastAreaError, secondToLastAreaError);\n    }\n    if (!isNaN(secondToLastGrowth)) {\n      this.growthChanges.unshift(this.lastGrowth!=secondToLastGrowth);\n    }\n\n    if (this.growthChanges.length>this.growthChangesLength) {\n      this.growthChanges.pop();\n    }\n    return this;\n  };\n\n  FlickeringMitigation.prototype.ratio = function () {\n    var weightedChangeCount = 0;\n    var ratio;\n\n    if (this.growthChanges.length < this.growthChangesLength) { return 0; }\n    if (this.lastAreaError > this.totalAvailableArea/10) { return 0; }\n\n    for(var i=0; i<this.growthChangesLength; i++) {\n      if (this.growthChanges[i]) {\n        weightedChangeCount += this.growthChangeWeights[i];\n      }\n    }\n\n    ratio = weightedChangeCount/this.growthChangeWeightsSum;\n\n    /*\n    if (ratio>0) {\n      console.log(\"flickering mitigation ratio: \"+Math.floor(ratio*1000)/1000);\n    }\n    */\n\n    return ratio;\n  };\n\n  function randomInitialPosition () {\n\n    //begin: internals\n    var clippingPolygon,\n      extent,\n      minX, maxX,\n      minY, maxY,\n      dx, dy;\n    //end: internals\n\n    ///////////////////////\n    ///////// API /////////\n    ///////////////////////\n\n    function _random(d, i, arr, voronoiMapSimulation) {\n      var shouldUpdateInternals = false;\n      var x, y;\n\n      if (clippingPolygon !== voronoiMapSimulation.clip()) {\n        clippingPolygon = voronoiMapSimulation.clip();\n        extent = voronoiMapSimulation.extent();\n        shouldUpdateInternals = true;\n      }\n\n      if (shouldUpdateInternals) {\n        updateInternals();\n      }\n\n      x = minX + dx * voronoiMapSimulation.prng()();\n      y = minY + dy * voronoiMapSimulation.prng()();\n      while (!d3Polygon.polygonContains(clippingPolygon, [x, y])) {\n        x = minX + dx * voronoiMapSimulation.prng()();\n        y = minY + dy * voronoiMapSimulation.prng()();\n      }\n      return [x, y];\n    };\n\n    ///////////////////////\n    /////// Private ///////\n    ///////////////////////\n\n    function updateInternals() {\n      minX = extent[0][0];\n      maxX = extent[1][0];\n      minY = extent[0][1];\n      maxY = extent[1][1];\n      dx = maxX - minX;\n      dy = maxY - minY;\n    };\n\n    return _random;\n  };\n\n  function pie () {\n    //begin: internals\n    var startAngle = 0;\n    var clippingPolygon,\n      dataArray,\n      dataArrayLength,\n      clippingPolygonCentroid,\n      halfIncircleRadius,\n      angleBetweenData;\n    //end: internals\n\n    ///////////////////////\n    ///////// API /////////\n    ///////////////////////\n\n    function _pie(d, i, arr, voronoiMapSimulation) {\n      var shouldUpdateInternals = false;\n\n      if (clippingPolygon !== voronoiMapSimulation.clip()) {\n        clippingPolygon = voronoiMapSimulation.clip();\n        shouldUpdateInternals |= true;\n      }\n      if (dataArray !== arr) {\n        dataArray = arr;\n        shouldUpdateInternals |= true;\n      }\n\n      if (shouldUpdateInternals) {\n        updateInternals();\n      }\n\n      // add some randomness to prevent colinear/cocircular points\n      // substract -0.5 so that the average jitter is still zero\n      return [\n        clippingPolygonCentroid[0] + Math.cos(startAngle + i * angleBetweenData) * halfIncircleRadius + (voronoiMapSimulation.prng()() - 0.5) * 1E-3,\n        clippingPolygonCentroid[1] + Math.sin(startAngle + i * angleBetweenData) * halfIncircleRadius + (voronoiMapSimulation.prng()() - 0.5) * 1E-3\n      ];\n    };\n\n    _pie.startAngle = function (_) {\n      if (!arguments.length) {\n        return startAngle;\n      }\n\n      startAngle = _;\n      return _pie;\n    };\n\n    ///////////////////////\n    /////// Private ///////\n    ///////////////////////\n\n    function updateInternals() {\n      clippingPolygonCentroid = d3Polygon.polygonCentroid(clippingPolygon);\n      halfIncircleRadius = computeMinDistFromEdges(clippingPolygonCentroid, clippingPolygon) / 2;\n      dataArrayLength = dataArray.length;\n      angleBetweenData = 2 * Math.PI / dataArrayLength;\n    };\n\n    function computeMinDistFromEdges(vertex, clippingPolygon) {\n      var minDistFromEdges = Infinity,\n        edgeIndex = 0,\n        edgeVertex0 = clippingPolygon[clippingPolygon.length - 1],\n        edgeVertex1 = clippingPolygon[edgeIndex];\n      var distFromCurrentEdge;\n\n      while (edgeIndex < clippingPolygon.length) {\n        distFromCurrentEdge = vDistance(vertex, edgeVertex0, edgeVertex1);\n        if (distFromCurrentEdge < minDistFromEdges) {\n          minDistFromEdges = distFromCurrentEdge;\n        }\n        edgeIndex++;\n        edgeVertex0 = edgeVertex1;\n        edgeVertex1 = clippingPolygon[edgeIndex];\n      }\n\n      return minDistFromEdges;\n    }\n\n    //from https://stackoverflow.com/questions/849211/shortest-distance-between-a-point-and-a-line-segment\n    function vDistance(vertex, edgeVertex0, edgeVertex1) {\n      var x = vertex[0],\n        y = vertex[1],\n        x1 = edgeVertex0[0],\n        y1 = edgeVertex0[1],\n        x2 = edgeVertex1[0],\n        y2 = edgeVertex1[1];\n      var A = x - x1,\n        B = y - y1,\n        C = x2 - x1,\n        D = y2 - y1;\n      var dot = A * C + B * D;\n      var len_sq = C * C + D * D;\n      var param = -1;\n\n      if (len_sq != 0) //in case of 0 length line\n        param = dot / len_sq;\n\n      var xx, yy;\n\n      if (param < 0) { // this should not arise as clippingpolygon is convex\n        xx = x1;\n        yy = y1;\n      } else if (param > 1) { // this should not arise as clippingpolygon is convex\n        xx = x2;\n        yy = y2;\n      } else {\n        xx = x1 + param * C;\n        yy = y1 + param * D;\n      }\n\n      var dx = x - xx;\n      var dy = y - yy;\n      return Math.sqrt(dx * dx + dy * dy);\n    }\n\n    return _pie;\n  }\n\n  function halfAverageAreaInitialWeight () {\n    //begin: internals\n    var clippingPolygon,\n      dataArray,\n      siteCount,\n      totalArea,\n      halfAverageArea;\n    //end: internals\n\n    ///////////////////////\n    ///////// API /////////\n    ///////////////////////\n    function _halfAverageArea(d, i, arr, voronoiMapSimulation) {\n      var shouldUpdateInternals = false;\n      if (clippingPolygon !== voronoiMapSimulation.clip()) {\n        clippingPolygon = voronoiMapSimulation.clip();\n        shouldUpdateInternals |= true;\n      }\n      if (dataArray !== arr) {\n        dataArray = arr;\n        shouldUpdateInternals |= true;\n      }\n\n      if (shouldUpdateInternals) {\n        updateInternals();\n      }\n\n      return halfAverageArea;\n    };\n\n    ///////////////////////\n    /////// Private ///////\n    ///////////////////////\n\n    function updateInternals() {\n      siteCount = dataArray.length;\n      totalArea = d3Polygon.polygonArea(clippingPolygon);\n      halfAverageArea = totalArea / siteCount / 2; // half of the average area of the the clipping polygon\n    }\n\n    return _halfAverageArea;\n  };\n\n  // from https://stackoverflow.com/questions/1382107/whats-a-good-way-to-extend-error-in-javascript\n  // (above link provided by https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)\n\n  function d3VoronoiMapError(message) {\n    this.message = message;\n    this.stack = new Error().stack;\n  }\n\n  d3VoronoiMapError.prototype.name = 'd3VoronoiMapError';\n  d3VoronoiMapError.prototype = new Error();\n\n  function voronoiMapSimulation(data) {\n    //begin: constants\n    var DEFAULT_CONVERGENCE_RATIO = 0.01;\n    var DEFAULT_MAX_ITERATION_COUNT = 50;\n    var DEFAULT_MIN_WEIGHT_RATIO = 0.01;\n    var DEFAULT_PRNG = Math.random;\n    var DEFAULT_INITIAL_POSITION = randomInitialPosition();\n    var DEFAULT_INITIAL_WEIGHT = halfAverageAreaInitialWeight();\n    var RANDOM_INITIAL_POSITION = randomInitialPosition();\n    var epsilon = 1e-10;\n    //end: constants\n\n    /////// Inputs ///////\n    var weight = function (d) {\n      return d.weight;\n    }; // accessor to the weight\n    var convergenceRatio = DEFAULT_CONVERGENCE_RATIO; // targeted allowed error ratio; default 0.01 stops computation when cell areas error <= 1% clipping polygon's area\n    var maxIterationCount = DEFAULT_MAX_ITERATION_COUNT; // maximum allowed iteration; stops computation even if convergence is not reached; use a large amount for a sole converge-based computation stop\n    var minWeightRatio = DEFAULT_MIN_WEIGHT_RATIO; // used to compute the minimum allowed weight; default 0.01 means 1% of max weight; handle near-zero weights, and leaves enought space for cell hovering\n    var prng = DEFAULT_PRNG; // pseudorandom number generator\n    var initialPosition = DEFAULT_INITIAL_POSITION; // accessor to the initial position; defaults to a random position inside the clipping polygon\n    var initialWeight = DEFAULT_INITIAL_WEIGHT; // accessor to the initial weight; defaults to the average area of the clipping polygon\n\n    //begin: internals\n    var weightedVoronoi = d3WeightedVoronoi.weightedVoronoi(),\n      flickeringMitigation = new FlickeringMitigation(),\n      shouldInitialize = true, // should initialize due to changes via APIs\n      siteCount, // number of sites\n      totalArea, // area of the clipping polygon\n      areaErrorTreshold, // targeted allowed area error (= totalArea * convergenceRatio); below this treshold, map is considered obtained and computation stops\n      iterationCount, // current iteration\n      polygons, // current computed polygons\n      areaError, // current area error\n      converged, // true if (areaError < areaErrorTreshold)\n      ended; // stores if computation is ended, either if computation has converged or if it has reached the maximum allowed iteration\n    //end: internals\n    //being: internals/simulation\n    var simulation,\n      stepper = d3Timer.timer(step),\n      event = d3Dispatch.dispatch('tick', 'end');\n    //end: internals/simulation\n\n    //begin: algorithm conf.\n    const HANDLE_OVERWEIGHTED_VARIANT = 1; // this option still exists 'cause for further experiments\n    const HANLDE_OVERWEIGHTED_MAX_ITERATION_COUNT = 1000; // max number of tries to handle overweigthed sites\n    var handleOverweighted;\n    //end: algorithm conf.\n\n    //begin: utils\n    function sqr(d) {\n      return Math.pow(d, 2);\n    }\n\n    function squaredDistance(s0, s1) {\n      return sqr(s1.x - s0.x) + sqr(s1.y - s0.y);\n    }\n    //end: utils\n\n    ///////////////////////\n    ///////// API /////////\n    ///////////////////////\n\n    simulation = {\n      tick: tick,\n\n      restart: function () {\n        stepper.restart(step);\n        return simulation;\n      },\n\n      stop: function () {\n        stepper.stop();\n        return simulation;\n      },\n\n      weight: function (_) {\n        if (!arguments.length) {\n          return weight;\n        }\n\n        weight = _;\n        shouldInitialize = true;\n        return simulation;\n      },\n\n      convergenceRatio: function (_) {\n        if (!arguments.length) {\n          return convergenceRatio;\n        }\n\n        convergenceRatio = _;\n        shouldInitialize = true;\n        return simulation;\n      },\n\n      maxIterationCount: function (_) {\n        if (!arguments.length) {\n          return maxIterationCount;\n        }\n\n        maxIterationCount = _;\n        return simulation;\n      },\n\n      minWeightRatio: function (_) {\n        if (!arguments.length) {\n          return minWeightRatio;\n        }\n\n        minWeightRatio = _;\n        shouldInitialize = true;\n        return simulation;\n      },\n\n      clip: function (_) {\n        if (!arguments.length) {\n          return weightedVoronoi.clip();\n        }\n\n        weightedVoronoi.clip(_);\n        shouldInitialize = true;\n        return simulation;\n      },\n\n      extent: function (_) {\n        if (!arguments.length) {\n          return weightedVoronoi.extent();\n        }\n\n        weightedVoronoi.extent(_);\n        shouldInitialize = true;\n        return simulation;\n      },\n\n      size: function (_) {\n        if (!arguments.length) {\n          return weightedVoronoi.size();\n        }\n\n        weightedVoronoi.size(_);\n        shouldInitialize = true;\n        return simulation;\n      },\n\n      prng: function (_) {\n        if (!arguments.length) {\n          return prng;\n        }\n\n        prng = _;\n        shouldInitialize = true;\n        return simulation;\n      },\n\n      initialPosition: function (_) {\n        if (!arguments.length) {\n          return initialPosition;\n        }\n\n        initialPosition = _;\n        shouldInitialize = true;\n        return simulation;\n      },\n\n      initialWeight: function (_) {\n        if (!arguments.length) {\n          return initialWeight;\n        }\n\n        initialWeight = _;\n        shouldInitialize = true;\n        return simulation;\n      },\n\n      state: function () {\n        if (shouldInitialize) {\n          initializeSimulation();\n        }\n        return {\n          ended: ended,\n          iterationCount: iterationCount,\n          convergenceRatio: areaError / totalArea,\n          polygons: polygons,\n        };\n      },\n\n      on: function (name, _) {\n        if (arguments.length === 1) {\n          return event.on(name);\n        }\n\n        event.on(name, _);\n        return simulation;\n      },\n    };\n\n    ///////////////////////\n    /////// Private ///////\n    ///////////////////////\n\n    //begin: simulation's main loop\n    function step() {\n      tick();\n      event.call('tick', simulation);\n      if (ended) {\n        stepper.stop();\n        event.call('end', simulation);\n      }\n    }\n    //end: simulation's main loop\n\n    //begin: algorithm used at each iteration\n    function tick() {\n      if (!ended) {\n        if (shouldInitialize) {\n          initializeSimulation();\n        }\n        polygons = adapt(polygons, flickeringMitigation.ratio());\n        iterationCount++;\n        areaError = computeAreaError(polygons);\n        flickeringMitigation.add(areaError);\n        converged = areaError < areaErrorTreshold;\n        ended = converged || iterationCount >= maxIterationCount;\n        // console.log(\"error %: \"+Math.round(areaError*100*1000/totalArea)/1000);\n      }\n    }\n    //end: algorithm used at each iteration\n\n    function initializeSimulation() {\n      //begin: handle algorithm's variants\n      setHandleOverweighted();\n      //end: handle algorithm's variants\n\n      siteCount = data.length;\n      totalArea = Math.abs(d3Polygon.polygonArea(weightedVoronoi.clip()));\n      areaErrorTreshold = convergenceRatio * totalArea;\n      flickeringMitigation.clear().totalArea(totalArea);\n\n      iterationCount = 0;\n      converged = false;\n      polygons = initialize(data, simulation);\n      ended = false;\n      shouldInitialize = false;\n    }\n\n    function initialize(data, simulation) {\n      var maxWeight = data.reduce(function (max, d) {\n          return Math.max(max, weight(d));\n        }, -Infinity),\n        minAllowedWeight = maxWeight * minWeightRatio;\n      var weights, mapPoints;\n\n      //begin: extract weights\n      weights = data.map(function (d, i, arr) {\n        return {\n          index: i,\n          weight: Math.max(weight(d), minAllowedWeight),\n          initialPosition: initialPosition(d, i, arr, simulation),\n          initialWeight: initialWeight(d, i, arr, simulation),\n          originalData: d,\n        };\n      });\n      //end: extract weights\n\n      // create map-related points\n      // (with targetedArea, initial position and initialWeight)\n      mapPoints = createMapPoints(weights, simulation);\n      handleOverweighted(mapPoints);\n      return weightedVoronoi(mapPoints);\n    }\n\n    function createMapPoints(basePoints, simulation) {\n      var totalWeight = basePoints.reduce(function (acc, bp) {\n        return (acc += bp.weight);\n      }, 0);\n      var initialPosition;\n\n      return basePoints.map(function (bp, i, bps) {\n        initialPosition = bp.initialPosition;\n\n        if (!d3Polygon.polygonContains(weightedVoronoi.clip(), initialPosition)) {\n          initialPosition = DEFAULT_INITIAL_POSITION(bp, i, bps, simulation);\n        }\n\n        return {\n          index: bp.index,\n          targetedArea: (totalArea * bp.weight) / totalWeight,\n          data: bp,\n          x: initialPosition[0],\n          y: initialPosition[1],\n          weight: bp.initialWeight, // ArlindNocaj/Voronoi-Treemap-Library uses an epsilonesque initial weight; using heavier initial weights allows faster weight adjustements, hence faster stabilization\n        };\n      });\n    }\n\n    function adapt(polygons, flickeringMitigationRatio) {\n      var adaptedMapPoints;\n\n      adaptPositions(polygons, flickeringMitigationRatio);\n      adaptedMapPoints = polygons.map(function (p) {\n        return p.site.originalObject;\n      });\n      polygons = weightedVoronoi(adaptedMapPoints);\n      if (polygons.length < siteCount) {\n        throw new d3VoronoiMapError('at least 1 site has no area, which is not supposed to arise');\n      }\n\n      adaptWeights(polygons, flickeringMitigationRatio);\n      adaptedMapPoints = polygons.map(function (p) {\n        return p.site.originalObject;\n      });\n      polygons = weightedVoronoi(adaptedMapPoints);\n      if (polygons.length < siteCount) {\n        throw new d3VoronoiMapError('at least 1 site has no area, which is not supposed to arise');\n      }\n\n      return polygons;\n    }\n\n    function adaptPositions(polygons, flickeringMitigationRatio) {\n      var newMapPoints = [],\n        flickeringInfluence = 0.5;\n      var flickeringMitigation, d, polygon, mapPoint, centroid, dx, dy;\n\n      flickeringMitigation = flickeringInfluence * flickeringMitigationRatio;\n      d = 1 - flickeringMitigation; // in [0.5, 1]\n      for (var i = 0; i < siteCount; i++) {\n        polygon = polygons[i];\n        mapPoint = polygon.site.originalObject;\n        centroid = d3Polygon.polygonCentroid(polygon);\n\n        dx = centroid[0] - mapPoint.x;\n        dy = centroid[1] - mapPoint.y;\n\n        //begin: handle excessive change;\n        dx *= d;\n        dy *= d;\n        //end: handle excessive change;\n\n        mapPoint.x += dx;\n        mapPoint.y += dy;\n\n        newMapPoints.push(mapPoint);\n      }\n\n      handleOverweighted(newMapPoints);\n    }\n\n    function adaptWeights(polygons, flickeringMitigationRatio) {\n      var newMapPoints = [],\n        flickeringInfluence = 0.1;\n      var flickeringMitigation, polygon, mapPoint, currentArea, adaptRatio, adaptedWeight;\n\n      flickeringMitigation = flickeringInfluence * flickeringMitigationRatio;\n      for (var i = 0; i < siteCount; i++) {\n        polygon = polygons[i];\n        mapPoint = polygon.site.originalObject;\n        currentArea = d3Polygon.polygonArea(polygon);\n        adaptRatio = mapPoint.targetedArea / currentArea;\n\n        //begin: handle excessive change;\n        adaptRatio = Math.max(adaptRatio, 1 - flickeringInfluence + flickeringMitigation); // in [(1-flickeringInfluence), 1]\n        adaptRatio = Math.min(adaptRatio, 1 + flickeringInfluence - flickeringMitigation); // in [1, (1+flickeringInfluence)]\n        //end: handle excessive change;\n\n        adaptedWeight = mapPoint.weight * adaptRatio;\n        adaptedWeight = Math.max(adaptedWeight, epsilon);\n\n        mapPoint.weight = adaptedWeight;\n\n        newMapPoints.push(mapPoint);\n      }\n\n      handleOverweighted(newMapPoints);\n    }\n\n    // heuristics: lower heavy weights\n    function handleOverweighted0(mapPoints) {\n      var fixCount = 0;\n      var fixApplied, tpi, tpj, weightest, lightest, sqrD, adaptedWeight;\n      do {\n        if (fixCount > HANLDE_OVERWEIGHTED_MAX_ITERATION_COUNT) {\n          throw new d3VoronoiMapError('handleOverweighted0 is looping too much');\n        }\n        fixApplied = false;\n        for (var i = 0; i < siteCount; i++) {\n          tpi = mapPoints[i];\n          for (var j = i + 1; j < siteCount; j++) {\n            tpj = mapPoints[j];\n            if (tpi.weight > tpj.weight) {\n              weightest = tpi;\n              lightest = tpj;\n            } else {\n              weightest = tpj;\n              lightest = tpi;\n            }\n            sqrD = squaredDistance(tpi, tpj);\n            if (sqrD < weightest.weight - lightest.weight) {\n              // adaptedWeight = sqrD - epsilon; // as in ArlindNocaj/Voronoi-Treemap-Library\n              // adaptedWeight = sqrD + lightest.weight - epsilon; // works, but below heuristics performs better (less flickering)\n              adaptedWeight = sqrD + lightest.weight / 2;\n              adaptedWeight = Math.max(adaptedWeight, epsilon);\n              weightest.weight = adaptedWeight;\n              fixApplied = true;\n              fixCount++;\n              break;\n            }\n          }\n          if (fixApplied) {\n            break;\n          }\n        }\n      } while (fixApplied);\n\n      /*\n      if (fixCount > 0) {\n        console.log('# fix: ' + fixCount);\n      }\n      */\n    }\n\n    // heuristics: increase light weights\n    function handleOverweighted1(mapPoints) {\n      var fixCount = 0;\n      var fixApplied, tpi, tpj, weightest, lightest, sqrD, overweight;\n      do {\n        if (fixCount > HANLDE_OVERWEIGHTED_MAX_ITERATION_COUNT) {\n          throw new d3VoronoiMapError('handleOverweighted1 is looping too much');\n        }\n        fixApplied = false;\n        for (var i = 0; i < siteCount; i++) {\n          tpi = mapPoints[i];\n          for (var j = i + 1; j < siteCount; j++) {\n            tpj = mapPoints[j];\n            if (tpi.weight > tpj.weight) {\n              weightest = tpi;\n              lightest = tpj;\n            } else {\n              weightest = tpj;\n              lightest = tpi;\n            }\n            sqrD = squaredDistance(tpi, tpj);\n            if (sqrD < weightest.weight - lightest.weight) {\n              overweight = weightest.weight - lightest.weight - sqrD;\n              lightest.weight += overweight + epsilon;\n              fixApplied = true;\n              fixCount++;\n              break;\n            }\n          }\n          if (fixApplied) {\n            break;\n          }\n        }\n      } while (fixApplied);\n\n      /*\n      if (fixCount > 0) {\n        console.log('# fix: ' + fixCount);\n      }\n      */\n    }\n\n    function computeAreaError(polygons) {\n      //convergence based on summation of all sites current areas\n      var areaErrorSum = 0;\n      var polygon, mapPoint, currentArea;\n      for (var i = 0; i < siteCount; i++) {\n        polygon = polygons[i];\n        mapPoint = polygon.site.originalObject;\n        currentArea = d3Polygon.polygonArea(polygon);\n        areaErrorSum += Math.abs(mapPoint.targetedArea - currentArea);\n      }\n      return areaErrorSum;\n    }\n\n    function setHandleOverweighted() {\n      switch (HANDLE_OVERWEIGHTED_VARIANT) {\n        case 0:\n          handleOverweighted = handleOverweighted0;\n          break;\n        case 1:\n          handleOverweighted = handleOverweighted1;\n          break;\n        default:\n          console.error(\"unknown 'handleOverweighted' variant; using variant #1\");\n          handleOverweighted = handleOverweighted0;\n      }\n    }\n\n    return simulation;\n  }\n\n  exports.voronoiMapSimulation = voronoiMapSimulation;\n  exports.voronoiMapInitialPositionRandom = randomInitialPosition;\n  exports.voronoiMapInitialPositionPie = pie;\n  exports.d3VoronoiMapError = d3VoronoiMapError;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-voronoi-map')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'd3-voronoi-map'], factory) :\n  (factory((global.d3 = global.d3 || {}),global.d3));\n}(this, function (exports,voronoiMap) { 'use strict';\n\n  voronoiMap = 'default' in voronoiMap ? voronoiMap['default'] : voronoiMap;\n\n  function voronoiTreemap() {\n    //begin: constants\n    var DEFAULT_CONVERGENCE_RATIO = 0.01;\n    var DEFAULT_MAX_ITERATION_COUNT = 50;\n    var DEFAULT_MIN_WEIGHT_RATIO = 0.01;\n    var DEFAULT_PRNG = Math.random;\n    //end: constants\n\n    /////// Inputs ///////\n    var clip = [\n      [0, 0],\n      [0, 1],\n      [1, 1],\n      [1, 0],\n    ]; // clipping polygon\n    var extent = [\n      [0, 0],\n      [1, 1],\n    ]; // extent of the clipping polygon\n    var size = [1, 1]; // [width, height] of the clipping polygon\n    var convergenceRatio = DEFAULT_CONVERGENCE_RATIO; // targeted allowed error ratio; default 0.01 stops computation when cell areas error <= 1% clipping polygon's area\n    var maxIterationCount = DEFAULT_MAX_ITERATION_COUNT; // maximum allowed iteration; stops computation even if convergence is not reached; use a large amount for a sole converge-based computation stop\n    var minWeightRatio = DEFAULT_MIN_WEIGHT_RATIO; // used to compute the minimum allowed weight; default 0.01 means 1% of max weight; handle near-zero weights, and leaves enought space for cell hovering\n    var prng = DEFAULT_PRNG; // pseudorandom number generator\n\n    //begin: internals\n    var unrelevantButNeedeData = [\n      {\n        weight: 1,\n      },\n      {\n        weight: 1,\n      },\n    ];\n    var _convenientReusableVoronoiMap = voronoiMap.voronoiMapSimulation(unrelevantButNeedeData).stop();\n    //end: internals\n\n    ///////////////////////\n    ///////// API /////////\n    ///////////////////////\n\n    function _voronoiTreemap(rootNode) {\n      recurse(clip, rootNode);\n    }\n\n    _voronoiTreemap.convergenceRatio = function (_) {\n      if (!arguments.length) {\n        return convergenceRatio;\n      }\n\n      convergenceRatio = _;\n      return _voronoiTreemap;\n    };\n\n    _voronoiTreemap.maxIterationCount = function (_) {\n      if (!arguments.length) {\n        return maxIterationCount;\n      }\n\n      maxIterationCount = _;\n      return _voronoiTreemap;\n    };\n\n    _voronoiTreemap.minWeightRatio = function (_) {\n      if (!arguments.length) {\n        return minWeightRatio;\n      }\n\n      minWeightRatio = _;\n      return _voronoiTreemap;\n    };\n\n    _voronoiTreemap.clip = function (_) {\n      if (!arguments.length) {\n        return clip;\n      }\n\n      //begin: use voronoiMap.clip() to handle clip/extent/size computation and borderline input (non-counterclockwise, non-convex, ...)\n      _convenientReusableVoronoiMap.clip(_);\n      //end: use voronoiMap.clip() to handle clip/extent/size computation\n      clip = _convenientReusableVoronoiMap.clip();\n      extent = _convenientReusableVoronoiMap.extent();\n      size = _convenientReusableVoronoiMap.size();\n      return _voronoiTreemap;\n    };\n\n    _voronoiTreemap.extent = function (_) {\n      if (!arguments.length) {\n        return extent;\n      }\n\n      //begin: use voronoiMap.extent() to handle clip/extent/size computation\n      _convenientReusableVoronoiMap.extent(_);\n      //end: use voronoiMap.clip() to handle clip/extent/size computation\n      clip = _convenientReusableVoronoiMap.clip();\n      extent = _convenientReusableVoronoiMap.extent();\n      size = _convenientReusableVoronoiMap.size();\n      return _voronoiTreemap;\n    };\n\n    _voronoiTreemap.size = function (_) {\n      if (!arguments.length) {\n        return size;\n      }\n\n      //begin: use voronoiMap.size() to handle clip/extent/size computation\n      _convenientReusableVoronoiMap.size(_);\n      //end: use voronoiMap.clip() to handle clip/extent/size computation\n      clip = _convenientReusableVoronoiMap.clip();\n      extent = _convenientReusableVoronoiMap.extent();\n      size = _convenientReusableVoronoiMap.size();\n      return _voronoiTreemap;\n    };\n\n    _voronoiTreemap.prng = function (_) {\n      if (!arguments.length) {\n        return prng;\n      }\n\n      prng = _;\n      return _voronoiTreemap;\n    };\n\n    ///////////////////////\n    /////// Private ///////\n    ///////////////////////\n\n    function recurse(clippingPolygon, node) {\n      var simulation;\n\n      //assign polygon to node\n      node.polygon = clippingPolygon;\n\n      if (node.height != 0) {\n        //compute one-level Voronoi map of children\n        simulation = voronoiMap\n          .voronoiMapSimulation(node.children)\n          .clip(clippingPolygon)\n          .weight(function (d) {\n            return d.value;\n          })\n          .convergenceRatio(convergenceRatio)\n          .maxIterationCount(maxIterationCount)\n          .minWeightRatio(minWeightRatio)\n          .prng(prng)\n          .stop();\n\n        var state = simulation.state(); // retrieve the Voronoï map simulation's state\n\n        //begin: manually launch each iteration until the Voronoï map simulation ends\n        while (!state.ended) {\n          simulation.tick();\n          state = simulation.state();\n        }\n        //end: manually launch each iteration until the Voronoï map simulation ends\n\n        //begin: recurse on children\n        state.polygons.forEach(function (cp) {\n          recurse(cp, cp.site.originalObject.data.originalData);\n        });\n        //end: recurse on children\n      }\n    }\n\n    return _voronoiTreemap;\n  }\n\n  exports.voronoiTreemap = voronoiTreemap;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));","<script>\n\timport { onMount } from 'svelte';\n\timport * as d3 from 'd3';\n\timport * as d3VT from 'd3-voronoi-treemap'\n\n\tlet width = 500;\n\tlet height = 500;\n\n\tlet color = d3.scaleOrdinal(['#7F3C8D','#11A579','#3969AC','#F2B701','#E73F74','#80BA5A','#E68310'])\n\t\n\tlet el;\n\texport let legend = []\n\n\texport let tooltipX = 0\n\texport let tooltipY = 0\n\texport let tooltipLabel = ''\n\texport let tooltipValue = ''\n\n\tonMount(async () => {\n\n\t\tlet PNNTData = await d3.csv(\"https://raw.githubusercontent.com/sapomnia/Piano-nazionale-di-ripartenza-e-resilienza/main/PNRR.csv\", (obj) => \n                  ({...obj,\n                     value: parseFloat(obj['Spesa (mld €)'].replace(',','.'))\n                   }))\n\t\n\t\tlet groupedData = d3.group(PNNTData, d => d['Missione'], d => d['Componenti'], d=> d['Investimenti e riforme'])\n\t\tlegend = Array.from(groupedData.keys())\n\t\tlet rootNode = d3.hierarchy(groupedData)\n\t\tlet weightAccessor = (d) => d.value; // computes the weight of one of your data; depending on your data, it may be 'd.area', or 'd.percentage', ...\n\t\t\n\t\trootNode.sum(weightAccessor)\n\t\t\n\t\tlet computeCirclingPolygon = (radius) => {\n\t\t\tvar _2PI = 2*Math.PI\n\t\t\tvar points = 180,\n\t\t\t\t\tincrement = _2PI/points,\n\t\t\t\t\tcirclingPolygon = [];\n\t\t\t\n\t\t\tfor (var a=0, i=0; i<points; i++, a+=increment) {\n\t\t\t\tcirclingPolygon.push(\n\t\t\t\t\t[radius + radius*Math.cos(a), radius + radius*Math.sin(a)]\n\t\t\t\t)\n\t\t\t}\n\t\t\t\n\t\t\treturn circlingPolygon;\n\t\t}\n\n\t\tlet circlingPolygon = computeCirclingPolygon(245);\n\n\t\tlet voronoiTreemap = d3VT.voronoiTreemap().clip(\n\t\t\tcirclingPolygon\n\t\t\t/*[\n\t\t\t[0, 0],\n\t\t\t[0, height],\n\t\t\t[width, height],\n\t\t\t[width, 0],\n\t\t\t]*/\n\t\t);\n\n\t\tvoronoiTreemap(rootNode)\n\n\t\tlet allNodes = rootNode.descendants();\n\t\tlet leaves = rootNode.leaves()\n\n\t\tlet tooltip = d3.select(el)\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"class\", \"tooltip\")\n\t\t\t.style(\"font-size\", \"9px\")\n\t\t\t.attr(\"text-anchor\", \"middle\")\n\n\t\td3.select(el)\n\t\t\t.selectAll('path')\n\t\t\t.data(leaves)\n\t\t\t.enter()\n\t\t\t.append('path')\n\t\t\t.attr('d', function (d) {\n\t\t\t\t// d is a node\n\t\t\t\treturn d3.line()(d.polygon) + 'z'; // d.polygon is the computed Voronoï cell encoding the relative weight of your underlying original data\n\t\t\t})\n\t\t\t.style('fill', function (d) {\n\t\t\t\tif(d.depth == 4)\n\t\t\t\t\treturn color(d.parent.parent.parent.data[0])\n\t\t\t\telse\n\t\t\t\t\treturn 'white'\n\t\t\t})\n\t\t\t.style('opacity', 0.7)\n\t\t\t.style('stroke-width', d => {\n\t\t\t\treturn d.depth > 2 ? 1 : 2\n\t\t\t})\n\t\t\t.style('stroke', '#ffffff')\n\t\t\t.attr(\"transform\", \"translate(3,3)\")\n\t\t\t.on(\"mouseover\", function(e, d) {\n\t\t\t\tlet pos = d3.polygonCentroid(d.polygon)\n\t\t\t\td3.select(this).style('opacity', 1)\n\t\t\t\ttooltipX = pos[0]\n\t\t\t\ttooltipY = pos[1]\n\t\t\t\ttooltipLabel = d.data['Investimenti e riforme']\n\t\t\t\ttooltipValue = d.data['value'] + '(mld €)'\n\t\t\t})\n\t\t\t.on(\"mouseout\", function(e, d) {\n\t\t\t\ttooltipLabel = ''\n\t\t\t\ttooltipValue = ''\n\t\t\t\td3.select(this).style('opacity', 0.7)\n\t\t\t})\n\n\t});\n\n</script>\n<main>\n\t<h1>Dove verranno allocati i fondi del Piano Nazionale di Ripartenza e Resilienza?</h1>\n\t<div class=\"chart\">\n\t\t<svg bind:this={el} viewBox=\"[0 0 {width} {height}]\"></svg>\n\t\t<div class=\"tooltip\" style=\"top: {tooltipY}px; left:{tooltipX}px\">{tooltipLabel}<div class=\"value\">{tooltipValue}</div></div>\n\t</div>\n\t<div class=\"legend\">\n\t\t{#if legend.length}\n\t\t\t{#each legend as g}\n\t\t\t<div class=\"legend-item\"><div class=\"dot\" style=\"background-color: {color(g)}\"></div>{g}</div>\n\t\t\t{/each}\n\t\t{/if}\n\t</div>\n\t<footer>\n\t\t<div>Made with ❤️ for 🇮🇹  by <a href=\"https://twitter.com/pezzabros\">Daniele Pezzatini(@pezzabros)</div>\n\t\t<div>Data from <a href=\"https://github.com/sapomnia/Piano-nazionale-di-ripartenza-e-resilienza/blob/main/PNRR.csv\">@sapomnia.</a></div>\n\t\t<div>Chart inspired by this <a href=\"https://www.nytimes.com/2021/04/28/upshot/biden-families-plan-american-rescue-infrastructure.html\">New York Times article.</a></div>\n\t\t<div>Crafted with Svelte, D3, and D3 Voronoi Treemap. <a href=\"https://rawgraphs.io/\">RawGraphs</a> for data exploration.</div>\n\t\t<div><a href=\"https://en.wikipedia.org/wiki/Voronoi_diagram\">ℹ️  What is a Voronoi diagram?</a></div>\n\t</footer>\n</main>\n\n\n<style>\n\tmain {\n\t\ttext-align: center;\n\t\tpadding: 1em;\n\t\tmargin: 0 auto;\n\t}\n\t.chart {\n\t\tposition: relative;\n    width: 500px;\n    height: 500px;\n    margin: auto;\n\t\tpadding: 2em\n\n\t}\n\t.tooltip {\n\t\tposition:absolute;\n\t\tfont-size: 12px;\n\t\tmax-width: 150px;\n\t\twidth: 150px;\n\t\tcolor: #000;\n\t\ttransform: translate(-25%, -25%);\n\t\ttext-align: center;\n\t\tpointer-events:none;\n\t}\n\t.tooltip .value{\n\t\tmargin-left: 1em;\n\t\tfont-weight: bold;\n\t}\n\tsvg {\n\t\twidth: 500px;\n\t\theight: 500px;\n\t}\n\t.legend {\n\t\twidth: 500px;\n\t\tmax-width: 500px;\n\t\tmargin: 10px auto;\n\t}\n\t.legend-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tflex-wrap: nowrap;\n\t\tmargin-right: 10px;\n\t\theight: 1.5em;\n\t\t\n\t}\n\t.dot{\n\t\twidth: 1em;\n\t\tmin-height: 1em;\n\t\tmax-height: 1em;\n\t\tborder-radius: 50%;\n\t\tmargin-right: 5px;\n\t}\n\th1 {\n\t\tfont-size: 1.8em;\n\t\tfont-weight: 400;\n\t\twidth: 690px;\n\t\tmargin: auto;\n\t}\n\n\tfooter {\n\t\tmargin: 30px auto;\n\t\tborder-top: 1px solid #444;\n\t\tpadding-top: 30px;\n\t\twidth: 500px\n\n\t}\n\tfooter div {\n\t\tcolor: #444;\n\t\tfont-size: 0.8em;\n\t\tline-height: 1.5em;\n\t}\n\n</style>","import App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body,\n\tprops: {\n\t\tname: 'world'\n\t}\n});\n\nexport default app;"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","text","data","createTextNode","space","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","wholeText","set_style","key","important","style","setProperty","current_component","set_current_component","component","onMount","Error","get_current_component","$$","on_mount","push","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","flushing","seen_callbacks","Set","flush","i","length","update","pop","callback","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","make_dirty","then","fill","init","options","instance","create_fragment","not_equal","props","parent_component","bound","on_destroy","on_disconnect","context","Map","callbacks","skip_bound","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","c","intro","block","delete","local","customElement","m","new_on_destroy","map","filter","mount_component","NaN","f","delta","compare","left","x","lo","hi","mid","d","ascending","ascendingComparator","center","right","ascendingBisect","bisector","bisectRight","bisectLeft","bisectCenter","number","count","values","valueof","undefined","index","array","empty","arrayify","variance","mean","sum","deviation","v","Math","sqrt","min","max","Adder","[object Object]","this","_partials","Float64Array","_n","j","y","abs","n","InternMap","entries","keyof","super","defineProperties","_intern","_key","set","get","intern_get","intern_set","intern_delete","InternSet","valueOf","group","keys","nest","identity","rollup","reduce","unique","regroup","groups","source","sort","F","Symbol","iterator","TypeError","Uint32Array","permute","slice","prototype","e10","e5","e2","start","stop","reverse","ticks","step","tickIncrement","isFinite","r0","round","r1","power","floor","log","LN10","error","pow","nice","prestep","ceil","LN2","domain","extent","threshold","sturges","histogram","isArray","xz","x0","x1","tz","tn","shift","bin","bins","bisect","_","arguments","constant","thresholds","call","quickselect","k","z","s","exp","sd","t","swap","quantile","numbers","i0","value0","subarray","maxIndex","minIndex","pair","leastIndex","minValue","shuffler","random","i1","matrix","transpose","row","superset","other","o","done","next","is","reducer","lengths","product","some","adder","ak","av","bk","bv","arrays","flatten","pairof","pairs","previous","first","range","defined","maxValue","step0","step1","test","mapper","others","out","dispatch","Dispatch","parseTypenames","typenames","types","trim","split","indexOf","hasOwnProperty","type","concat","constructor","on","typename","T","copy","that","args","apply","xhtml","svg","xlink","xml","xmlns","prefix","namespaces","creatorInherit","ownerDocument","uri","namespaceURI","documentElement","createElementNS","creatorFixed","fullname","namespace","none","selector","querySelector","querySelectorAll","matches","childMatcher","find","childFirst","firstElementChild","EnterNode","parent","datum","_next","_parent","__data__","bindIndex","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","attrRemove","attrRemoveNS","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","defaultView","styleRemove","removeProperty","styleConstant","priority","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","classedAdd","names","list","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","constantNull","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","onRemove","__on","removeEventListener","listener","onAdd","event","contextListener","addEventListener","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","child","join","splice","contains","root","Selection","parents","_groups","_parents","selection","factory","extend","definition","Color","select","subgroups","subnode","subgroup","selectAll","arrayAll","selectorAll","selectChild","match","childFind","selectChildren","childrenFilter","matcher","bind","enterGroup","updateGroup","exitGroup","_enter","_exit","sparse","onenter","onupdate","onexit","merge","order","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","compareNode","sortgroups","sortgroup","size","each","getAttributeNS","property","classed","html","creator","before","deep","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","r","g","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","isNaN","toString","h","Hsl","hslConvert","hsl2rgb","m2","define","channels","assign","displayable","formatHsl","gamma","nogamma","exponential","linear","rgbGamma","end","colorRgb","reA","reB","am","bm","bs","bi","lastIndex","q","one","zero","svgNode","degrees","PI","translateX","translateY","rotate","skewX","scaleX","scaleY","e","atan2","atan","interpolateTransform","parse","pxComma","pxParen","degParen","xa","ya","xb","yb","translate","scale","taskHead","taskTail","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","transform","baseVal","consolidate","frame","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","setTimeout","clearNow","Timer","_call","_time","timer","delay","time","restart","wake","timerFlush","t0","t2","t1","Infinity","sleep","nap","poke","clearTimeout","clearInterval","setInterval","elapsed","emptyOn","emptyTween","id","timing","schedules","__transition","self","tween","schedule","state","tick","duration","ease","tweenRemove","tween0","tween1","tweenFunction","tweenValue","transition","_id","interpolateNumber","interpolateRgb","interpolateString","interpolate","value1","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","every","styleInterpolate","styleTween","textInterpolate","textTween","Transition","_name","newId","selection_prototype","inherit","id0","id1","styleNull","listener0","styleMaybeRemove","removeFunction","easeVarying","reject","cancel","interrupt","defaultTiming","active","pi","tau","epsilon","tauEpsilon","Path","_x0","_y0","_x1","_y1","path","moveTo","closePath","lineTo","quadraticCurveTo","y1","bezierCurveTo","x2","y2","arcTo","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","dx","cos","dy","sin","cw","da","rect","w","EOL","EOF","objectConverter","columns","Function","JSON","stringify","inferColumns","rows","columnSet","column","pad","width","formatDate","date","year","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","milliseconds","getUTCMilliseconds","getUTCFullYear","getUTCMonth","getUTCDate","csvParse","delimiter","reFormat","DELIMITER","charCodeAt","parseRows","N","I","eof","eol","token","replace","preformatBody","formatValue","formatRow","convert","object","customConverter","formatBody","formatRows","dsv","responseText","response","ok","status","statusText","input","fetch","csv","hierarchy","mapChildren","objectChildren","childs","Node","depth","eachBefore","computeHeight","copyData","height","polygon","lexicographicOrder","computeUpperHullIndexes","points","indexes","eachAfter","ancestor","aNodes","ancestors","bNodes","leastCommonAncestor","descendants","leaves","links","current","area","sortedPoints","flippedPoints","upperIndexes","lowerIndexes","skipLeft","skipRight","hull","point","inside","perimeter","hypot","initRange","implicit","ordinal","unknown","Linear","_context","curve","curveLinear","output","line","buffer","defined0","lineStart","lineEnd","pointX","pointY","areaStart","_line","areaEnd","_point","total","exports","d3Array","d3Polygon","epsilonesque","dot","v0","v1","linearDependent","polygonDirection","sign","crossproduct","p0","p1","p2","calculateCrossproduct","vect","to","ConflictListNode","face","vert","nextf","prevf","nextv","prevv","ConflictList","forFace","head","Vertex","weight","orig","isDummy","conflicts","neighbours","nonClippedPolygon","originalObject","projectZ","Plane3D","verts","p3","Point2D","Vector","HEdge","dest","prev","twin","iFace","d3WeightedVoronoiError","message","stack","Face","orient","marked","subtract","normal","normalize","createEdges","dualPoint","ConvexHull","facets","created","horizon","visible","polygonClip","clip","subject","intersection","closed","polygonClosed","polygonInside","polygonIntersect","x3","x43","y3","y43","ua","coordinates","getFacesOfDestVertex","edge","faces","site","siteOrigin","isVisibleFromBelow","computePowerDiagramIntegrated","sites","boundingSites","clippingPolygon","convexHull","compute","polygons","verticesVisited","facetCount","facet","edges","destVertex","protopoly","lastX","lastY","getDualPoint","polygonLength","clippedPoly","weightedVoronoi","_weightedVoronoi","minX","maxX","minY","maxY","boundingData","direction","xExtent","yExtent","polygonHull","cln","isEmpty","curr","removeAll","getVertices","setWeight","equals","getNormZPlane","getDualPointMappedToPlane","nplane","negate","lenght","isHorizon","findHorizon","isEqual","origin","plane3d","temp","getEdge","link","conflict","getHorizon","removeConflict","permutate","ra","currentItem","prep","v2","v3","f1","f2","f3","f0","addFacet","addConflict","addConflicts","old1","old2","l1","l2","nCL","last","jF","hEi","hE","defineProperty","require$$0","require$$1","d3Timer","d3Dispatch","d3WeightedVoronoi","FlickeringMitigation","growthChangesLength","DEFAULT_LENGTH","totalAvailableArea","lastAreaError","lastGrowth","growthChanges","growthChangeWeights","generateGrowthChangeWeights","growthChangeWeightsSum","computeGrowthChangeWeightsSum","h0","h1","weightDecrement","minWeight","weightedCount","randomInitialPosition","_random","arr","voronoiMapSimulation","shouldUpdateInternals","updateInternals","prng","polygonContains","pie","dataArray","dataArrayLength","clippingPolygonCentroid","halfIncircleRadius","angleBetweenData","startAngle","_pie","polygonCentroid","computeMinDistFromEdges","vertex","distFromCurrentEdge","minDistFromEdges","edgeIndex","edgeVertex0","edgeVertex1","vDistance","xx","yy","C","D","len_sq","param","halfAverageAreaInitialWeight","siteCount","totalArea","halfAverageArea","_halfAverageArea","polygonArea","d3VoronoiMapError","areaErrorTreshold","iterationCount","areaError","ended","simulation","DEFAULT_CONVERGENCE_RATIO","DEFAULT_MAX_ITERATION_COUNT","DEFAULT_MIN_WEIGHT_RATIO","DEFAULT_PRNG","DEFAULT_INITIAL_POSITION","DEFAULT_INITIAL_WEIGHT","convergenceRatio","maxIterationCount","minWeightRatio","initialPosition","initialWeight","flickeringMitigation","shouldInitialize","stepper","HANDLE_OVERWEIGHTED_VARIANT","HANLDE_OVERWEIGHTED_MAX_ITERATION_COUNT","handleOverweighted","sqr","squaredDistance","s0","s1","initializeSimulation","adapt","ratio","computeAreaError","setHandleOverweighted","initialize","mapPoints","minAllowedWeight","createMapPoints","originalData","basePoints","totalWeight","acc","bp","bps","targetedArea","flickeringMitigationRatio","adaptedMapPoints","adaptPositions","adaptWeights","mapPoint","centroid","newMapPoints","currentArea","adaptRatio","adaptedWeight","flickeringInfluence","handleOverweighted0","fixApplied","tpi","tpj","weightest","lightest","sqrD","fixCount","handleOverweighted1","overweight","areaErrorSum","console","reset","warn","parseFloat","secondToLastAreaError","secondToLastGrowth","unshift","weightedChangeCount","voronoiMapInitialPositionRandom","voronoiMapInitialPositionPie","require$$2","require$$3","voronoiMap","voronoiTreemap","unrelevantButNeedeData","_convenientReusableVoronoiMap","_voronoiTreemap","rootNode","recurse","cp","iterations","detaching","el","d3.scaleOrdinal","legend","tooltipX","tooltipY","tooltipLabel","tooltipValue","groupedData","d3.group","d3.csv","obj","d3.hierarchy","circlingPolygon","radius","increment","computeCirclingPolygon","d3VT.voronoiTreemap","d3.select","d3.line","pos","d3.polygonCentroid","destroy_component","$destroy","$$props","$$set","body"],"mappings":"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"}